
<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>user_search &mdash; CoCalc Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
    <link rel="shortcut icon" href="../_static/favicon-32x32.png"/>
    <link rel="canonical" href="https://doc.cocalc.com/api/user_search.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="https://cocalc.com/analytics.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="write_text_file_to_project" href="write_text_file_to_project.html" />
    <link rel="prev" title="user_auth" href="user_auth.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://doc.cocalc.com/api/user_search.html"/>
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../index.html" class="icon icon-home"> CoCalc Manual
  <img src="../_static/../_static/cocalc-doc-logo.svg" class="logo" alt="Logo"/>
</a>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with.html">Working With</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../platform.html">Platform</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../project.html">Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../share.html">Shared Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software.html">Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backups.html">Backups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../time-travel.html">Time Travel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apikeys.html">API Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api2/index.html">API v2</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">API v1</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#purpose">Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#protocol-and-data-format">Protocol and Data Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#additional-references">Additional References</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#api-message-reference">API Message Reference</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="add_collaborator.html">add_collaborator</a></li>
<li class="toctree-l4"><a class="reference internal" href="add_license_to_project.html">add_license_to_project</a></li>
<li class="toctree-l4"><a class="reference internal" href="change_email_address.html">change_email_address</a></li>
<li class="toctree-l4"><a class="reference internal" href="change_password.html">change_password</a></li>
<li class="toctree-l4"><a class="reference internal" href="copy_path_between_projects.html">copy_path_between_projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="copy_path_delete.html">copy_path_delete</a></li>
<li class="toctree-l4"><a class="reference internal" href="copy_path_status.html">copy_path_status</a></li>
<li class="toctree-l4"><a class="reference internal" href="copy_public_path_between_projects.html">copy_public_path_between_projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="create_account.html">create_account</a></li>
<li class="toctree-l4"><a class="reference internal" href="create_project.html">create_project</a></li>
<li class="toctree-l4"><a class="reference internal" href="create_support_ticket.html">create_support_ticket</a></li>
<li class="toctree-l4"><a class="reference internal" href="delete_account.html">delete_account</a></li>
<li class="toctree-l4"><a class="reference internal" href="disconnect_from_project.html">disconnect_from_project</a></li>
<li class="toctree-l4"><a class="reference internal" href="forgot_password.html">forgot_password</a></li>
<li class="toctree-l4"><a class="reference internal" href="get_available_upgrades.html">get_available_upgrades</a></li>
<li class="toctree-l4"><a class="reference internal" href="get_support_tickets.html">get_support_tickets</a></li>
<li class="toctree-l4"><a class="reference internal" href="get_usernames.html">get_usernames</a></li>
<li class="toctree-l4"><a class="reference internal" href="invite_collaborator.html">invite_collaborator</a></li>
<li class="toctree-l4"><a class="reference internal" href="invite_noncloud_collaborators.html">invite_noncloud_collaborators</a></li>
<li class="toctree-l4"><a class="reference internal" href="log_client_error.html">log_client_error</a></li>
<li class="toctree-l4"><a class="reference internal" href="metrics.html">metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="ping.html">ping</a></li>
<li class="toctree-l4"><a class="reference internal" href="project_exec.html">project_exec</a></li>
<li class="toctree-l4"><a class="reference internal" href="public_get_text_file.html">public_get_text_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="query.html">query</a></li>
<li class="toctree-l4"><a class="reference internal" href="read_text_file_from_project.html">read_text_file_from_project</a></li>
<li class="toctree-l4"><a class="reference internal" href="remove_collaborator.html">remove_collaborator</a></li>
<li class="toctree-l4"><a class="reference internal" href="remove_license_from_project.html">remove_license_from_project</a></li>
<li class="toctree-l4"><a class="reference internal" href="reset_forgot_password.html">reset_forgot_password</a></li>
<li class="toctree-l4"><a class="reference internal" href="start_metrics.html">start_metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="touch_project.html">touch_project</a></li>
<li class="toctree-l4"><a class="reference internal" href="unlink_passport.html">unlink_passport</a></li>
<li class="toctree-l4"><a class="reference internal" href="user_auth.html">user_auth</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">user_search</a></li>
<li class="toctree-l4"><a class="reference internal" href="write_text_file_to_project.html">write_text_file_to_project</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#api-examples-howto">API Examples &amp; Howto</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#copy-a-file-between-projects">Copy a file between projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#embedding-in-an-iframe">Embedding in an IFrame</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#iframe-communication">IFrame communication</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_interface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service_options.html">Service Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../teaching.html">Teaching</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
  <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
  <a href="../index.html">CoCalc Manual</a>

      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../platform.html">Platform</a></li>
          <li class="breadcrumb-item"><a href="index.html">API v1</a></li>
      <li class="breadcrumb-item active">user_search</li>
<li class="wy-breadcrumbs-aside" style="padding: 0;">
  <a
    class="fa fa-question-circle"
    href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!"
    style="background-color: #daeefb; color: black; border: 3px solid #2980b9; padding: 2px 5px; border-radius: 4px;"
  >
    Ask us a Question!
  </a>
</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="user-search">
<h1>user_search<a class="headerlink" href="#user-search" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code>: A unique UUID for the query</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">query</span></code>: comma separated list of email addresses or strings such as
‘foo bar’ (required)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">admin</span></code>: if true and user is an admin, includes email addresses in
result, and does more permissive search (default: false)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">active</span></code>: only include users active for this interval of time
(default: ““)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">limit</span></code>: maximum number of results returned (default: 20)</p></li>
</ul>
<p>There are two possible item types in the query list: email addresses and
strings that are not email addresses. An email query item will return
account id, first name, last name, and email address for the unique
account with that email address, if there is one. A string query item
will return account id, first name, and last name for all matching
accounts.</p>
<p>We do not reveal email addresses of users queried by name to non admins.</p>
<p>String query matches first and last names that start with the given
string. If a string query item consists of two strings separated by
space, the search will return accounts in which the first name begins
with one of the two strings and the last name begins with the other.
String and email queries may be mixed in the list for a single
user_search call. Searches are case-insensitive.</p>
<p>Note: there is a hard limit of 50 returned items in the results.</p>
<p>Examples:</p>
<p>Search for account by email.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>curl -u : \
  -d query=jd@m.local \
  https://cocalc.com/api/v1/user_search
==&gt; {&quot;event&quot;:&quot;user_search_results&quot;,
     &quot;id&quot;:&quot;3818fa50-b892-4167-b9d9-d22d521b36af&quot;,
     &quot;results&quot;:[{&quot;account_id&quot;:&quot;96c523b8-321e-41a3-9523-39fde95dc71d&quot;,
                 &quot;first_name&quot;:&quot;John&quot;,
                 &quot;last_name&quot;:&quot;Doe&quot;,
                 &quot;email_address&quot;:&quot;jd@m.local&quot;}
</pre></div>
</div>
<p>Search for at most 3 accounts where first and last name begin with ‘foo’
or ‘bar’.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>curl -u sk_abcdefQWERTY090900000000: \
  -d &#39;query=foo bar&#39;\
  -d limit=3 \
  https://cocalc.com/api/v1/user_search
==&gt; {&quot;event&quot;:&quot;user_search_results&quot;,
     &quot;id&quot;:&quot;fd9b025b-25d0-4e27-97f4-2c080bb07155&quot;,
     &quot;results&quot;:[{&quot;account_id&quot;:&quot;1a842a67-eed3-405d-a222-2f23a33f675e&quot;,
                 &quot;first_name&quot;:&quot;foo&quot;,
                 &quot;last_name&quot;:&quot;bar&quot;},
                {&quot;account_id&quot;:&quot;0e9418a7-af6a-4004-970a-32fafe733f29&quot;,
                 &quot;first_name&quot;:&quot;bar123&quot;,
                 &quot;last_name&quot;:&quot;fooxyz&quot;},
                {&quot;account_id&quot;:&quot;93f8131c-6c21-401a-897d-d4abd9c6c225&quot;,
                 &quot;first_name&quot;:&quot;Foo&quot;,
                 &quot;last_name&quot;:&quot;Bar&quot;}]}
</pre></div>
</div>
<p>The same result as the last example above would be returned with a
search string of ‘bar foo’. A name of “Xfoo YBar” would not match.</p>
<p>Note that email addresses are not returned for string search items.</p>
<p>Email and string search types may be mixed in a single query:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>curl -u sk_abcdefQWERTY090900000000: \
  -d &#39;query=foo bar,jd@m.local&#39; \
  -d limit=4 \
  https://cocalc.com/api/v1/user_search
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="user_auth.html" class="btn btn-neutral float-left" title="user_auth" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="write_text_file_to_project.html" class="btn btn-neutral float-right" title="write_text_file_to_project" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Sagemath, Inc., CC BY-4.0 licensed.</p>
  </div>

  

<div role="contentinfo">
  <p>
    Please contact us for <a href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!">Questions and Feedback</a>,
    <a href="https://github.com/sagemathinc/cocalc-doc/">Documentation Repository</a>,
    <a href="https://cocalc.com/policies/">Privacy Policy and ToS</a>.
   </p>
   <p>
    <a href="https://github.com/sagemathinc/cocalc-doc/edit/master/source/api/user_search.rst" class="fa fa-github"> Edit this page on GitHub</a>
  </p>
  <p>
    <strong><a href="https://cocalc.com/app">Start CoCalc</a></strong> – start free, upgrade later!
  </p>
</div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <a class="github cocalcbanner" href="https://cocalc.com/app?anonymous=true">
     <img alt="Start CoCalc"
          class="github"
          src="../_static/start-cocalc.png"
          style="position: fixed; top: 0; right: 0; border: 0; height: 75px; width: 75px">
  </a>


</body>
</html>
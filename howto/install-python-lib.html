
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Install Python Packages &mdash; CoCalc Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="../_static/favicon-32x32.png"/>
    <link rel="canonical" href="https://doc.cocalc.com/howto/install-python-lib.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="https://cocalc.com/analytics.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Install R Packages" href="install-r-package.html" />
    <link rel="prev" title="Install Julia Packages" href="install-julia-package.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://doc.cocalc.com/howto/install-python-lib.html"/>
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../index.html" class="icon icon-home"> CoCalc Manual
  <img src="../_static/../_static/cocalc-doc-logo.svg" class="logo" alt="Logo"/>
</a>

<style>
div.cocalc-header {
  padding: 10px;
  margin-bottom: 10px;
  color: white;
  background-color: #4375c1;
  font-weight: bold;
  text-align: center;
  box-shadow: 1px 4px 4px -1px #4375c1;
  border-radius: 0 0 3px 3px;
}
div.cocalc-header a {
  color: #ddd;
  background-color: transparent;
  text-decoration: none;
}
</style>

<div class="cocalc-header">
  We provide the best real-time collaborative environment for <a href="https://cocalc.com/features/jupyter-notebook">Jupyter</a>, <a href="https://cocalc.com/features/latex-editor">LaTeX</a>, and <a href="https://cocalc.com/features/jupyter-notebook">SageMath</a>!
</div>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core_applications.html">Core Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../signature_features.html">Signature Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enhanced_capabilities.html">Enhanced Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_interface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service_options.html">Service Options</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">How-tos</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#cocalc-platform">CoCalc Platform</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="firewall-info.html">Configure Firewall</a></li>
<li class="toctree-l3"><a class="reference internal" href="convert-html-to-pdf.html">Convert HTML to PDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="software-development.html">Develop Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="export-timetravel.html">Export TimeTravel History</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-julia-package.html">Install Julia Packages</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Install Python Packages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-requests">Install requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-user-installs">Python “user” installs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pipenv-with-a-jupyter-kernel">Pipenv with a Jupyter Kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#anaconda-environment">Anaconda Environment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="install-r-package.html">Install R Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="project-invitation-tokens.html">Invite via Links</a></li>
<li class="toctree-l3"><a class="reference internal" href="running-processes.html">Manage Running Processes</a></li>
<li class="toctree-l3"><a class="reference internal" href="upload.html">Upload Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="external-tools.html">Use External Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="multiple-accounts.html">Use Multiple Accounts</a></li>
<li class="toctree-l3"><a class="reference internal" href="parallel.html">Utilize Multiple CPUs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#jupyter-notebooks">Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#programming-languages">Programming Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#servers">Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tools">Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../teaching-instructors.html">Instructor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../teaching-students.html">Student Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="trouble.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
  <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
  <a href="../index.html">CoCalc Manual</a>

      </nav>

      <div class="wy-nav-content">

        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">How-tos</a></li>
      <li class="breadcrumb-item active">Install Python Packages</li>
<li class="wy-breadcrumbs-aside" style="padding: 0;">
  <a
    class="fa fa-question-circle"
    href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!"
    style="background-color: #daeefb; color: black; border: 3px solid #2980b9; padding: 2px 5px; border-radius: 4px;"
  >
    Ask us a Question!
  </a>
</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="install-python-packages">
<span id="index-0"></span><span id="id1"></span><h1>Install Python Packages<a class="headerlink" href="#install-python-packages" title="Link to this heading"></a></h1>
<p>This page describes how to install a Python package in a CoCalc project.</p>
<p>CoCalc already includes hundreds of packages for several Python environments.
<strong>Check first</strong> if the lib you’re looking for <a class="reference external" href="https://cocalc.com/doc/software-python.html">is already installed</a>!</p>
<p>Related: <a class="reference internal" href="custom-jupyter-kernel.html"><span class="doc">Custom Jupyter Kernel</span></a>, <a class="reference internal" href="jupyter-extension.html"><span class="doc">Setup Jupyter Extensions</span></a> and <a class="reference internal" href="install-r-package.html"><span class="doc">Install R Packages</span></a>.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#install-requests" id="id3">Install requests</a></p></li>
<li><p><a class="reference internal" href="#python-user-installs" id="id4">Python “user” installs</a></p>
<ul>
<li><p><a class="reference internal" href="#install-location-and-sys-path" id="id5">Install location and <code class="docutils literal notranslate"><span class="pre">sys.path</span></code></a></p></li>
<li><p><a class="reference internal" href="#pip" id="id6">pip</a></p></li>
<li><p><a class="reference internal" href="#pip-install-directly-from-git-repository" id="id7">pip install directly from git repository</a></p></li>
<li><p><a class="reference internal" href="#setup-py" id="id8">setup.py</a></p></li>
<li><p><a class="reference internal" href="#virtualenv" id="id9">Virtualenv</a></p></li>
<li><p><a class="reference internal" href="#sage" id="id10">Sage</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#pipenv-with-a-jupyter-kernel" id="id11">Pipenv with a Jupyter Kernel</a></p></li>
<li><p><a class="reference internal" href="#anaconda-environment" id="id12">Anaconda Environment</a></p>
<ul>
<li><p><a class="reference internal" href="#install-my-own-anaconda-environment" id="id13">Install my own Anaconda environment</a></p></li>
<li><p><a class="reference internal" href="#configure-a-jupyter-kernel-for-my-custom-anaconda-environment" id="id14">Configure a Jupyter kernel for my custom Anaconda environment</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="install-requests">
<span id="install-request"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Install requests</a><a class="headerlink" href="#install-requests" title="Link to this heading"></a></h2>
<p>If a package may have general use but is not already installed in CoCalc,
please open a support request to tell us to install it globally for everyone.
Uncomplicated install requests are typically handled within 1 business day for paying customers.
Install will happen faster if you include as much as possible of the following information:</p>
<ul class="simple">
<li><p>Which Python environment?</p></li>
<li><p>Which language version: 2 or 3?</p></li>
<li><p>A link to the package website</p></li>
<li><p>Special requirements and dependencies to build &amp; install</p></li>
<li><p>A short but complete example, such that we can verify that we properly installed the software. This example might be included in internal tests, to make sure future updates do not break that library.</p></li>
</ul>
</section>
<section id="python-user-installs">
<span id="python-pkg-install-user"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Python “user” installs</a><a class="headerlink" href="#python-user-installs" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Your project <strong>must</strong> have the <a class="reference internal" href="../project-settings.html#project-upgrades"><span class="std std-ref">“Internet access” upgrade</span></a> in order to download software from a remote repository (e.g. PyPI or Anaconda) to your project.
Installing a Python package will require you to <a class="reference internal" href="../project-settings.html#project-add-license"><span class="std std-ref">add a license</span></a> or <a class="reference internal" href="../project-settings.html#project-upgrades"><span class="std std-ref">add upgrades</span></a> so that your project has internet access.</p>
</div>
<p>A way to work around such a blocked internet access
is to <a class="reference internal" href="upload.html"><span class="doc">upload the package files</span></a> into your project.</p>
<p>You can install additional packages yourself, but only at user-permission level.
CoCalc accounts do not have superuser (root) privileges.
Software must be installed into user-writeable parts of the filesystem, which are in <code class="docutils literal notranslate"><span class="pre">/home/user</span></code> (check the value of <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>In a nutshell:</strong> a CoCalc project is a Linux user account under the username <code class="docutils literal notranslate"><span class="pre">user</span></code>.
Therefore, installing software and libraries should usually be done in <code class="docutils literal notranslate"><span class="pre">~/.local</span></code> (i.e. <code class="docutils literal notranslate"><span class="pre">/home/user/.local</span></code>),
which is the canonical location for user installs.
Furthermore, in case the documentation mentions to specify a custom “prefix” path,
set this to <code class="docutils literal notranslate"><span class="pre">~/.local</span></code>.
Executables will install into <code class="docutils literal notranslate"><span class="pre">~/.local/bin</span></code> and will work right away,
because projects already include that path in their <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> variable.</p>
</div>
<section id="install-location-and-sys-path">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Install location and <code class="docutils literal notranslate"><span class="pre">sys.path</span></code></a><a class="headerlink" href="#install-location-and-sys-path" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the case of Python 2, <code class="docutils literal notranslate"><span class="pre">$HOME/.local/lib/python2.7/site-packages/</span></code> will contain the package you’ve installed.
Similarly, this path will contain <code class="docutils literal notranslate"><span class="pre">python3.8</span></code> for a Python 3.8 executable.</p>
<p>In case your Python environment can’t find the package,
you might have to add your <code class="docutils literal notranslate"><span class="pre">~/.local/...</span></code> directory dynamically during runtime like that:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import sys, os
sys.path.insert(0, os.path.expanduser(&#39;~/.local/lib/python2.7/site-packages&#39;))
</pre></div>
</div>
<p>Make sure, the path is correct.
I.e. for Python 3 this could be one of <code class="docutils literal notranslate"><span class="pre">python3.7</span></code>, <code class="docutils literal notranslate"><span class="pre">python3.8</span></code>…</p>
</div>
</section>
<section id="pip">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">pip</a><a class="headerlink" href="#pip" title="Link to this heading"></a></h3>
<p>Pip is the “Python package manager”.
It installs packages hosted at <a class="reference external" href="https://pypi.org/">PyPI.org</a>.</p>
<p>If your package can be installed via <code class="docutils literal notranslate"><span class="pre">pip</span></code>,
then run in a <a class="reference internal" href="../terminal.html"><span class="doc">CoCalc Terminal file</span></a>:</p>
<ul class="simple">
<li><p>Python2: <code class="docutils literal notranslate"><span class="pre">pip2</span> <span class="pre">install</span> <span class="pre">--user</span> <span class="pre">[package-name]</span></code></p></li>
<li><p>Python3: <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">--user</span> <span class="pre">[package-name]</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Regarding Python 2 vs. Python 3:</strong></p>
<ul class="simple">
<li><p>Python 2: use <code class="docutils literal notranslate"><span class="pre">pip2</span></code> and <code class="docutils literal notranslate"><span class="pre">python2</span></code>/<code class="docutils literal notranslate"><span class="pre">ipython2</span></code>.</p></li>
<li><p>Python 3: use <code class="docutils literal notranslate"><span class="pre">pip3</span></code> and <code class="docutils literal notranslate"><span class="pre">python3</span></code>/<code class="docutils literal notranslate"><span class="pre">ipython3</span></code> – <code class="docutils literal notranslate"><span class="pre">pip</span></code> and <code class="docutils literal notranslate"><span class="pre">python</span></code> should default to these variants.</p></li>
</ul>
</div>
<p>If you’ve <a class="reference internal" href="upload.html"><span class="doc">uploaded a zip/wheel file</span></a>,
change the <code class="docutils literal notranslate"><span class="pre">[package-name]</span></code> to the actual filename.</p>
</section>
<section id="pip-install-directly-from-git-repository">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">pip install directly from git repository</a><a class="headerlink" href="#pip-install-directly-from-git-repository" title="Link to this heading"></a></h3>
<p>Suppose there is a GitHub repository for a python 3 package at <code class="samp docutils literal notranslate"><span class="pre">https://github.com/</span><em><span class="pre">organization</span></em><span class="pre">/</span><em><span class="pre">repo</span></em></code>. (There should be a <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file at the top-level directory of the repo.)
The simplest way to install directly from GitHub via pip is this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pip3 install --user git+https://github.com/organization/repo.git
</pre></div>
</div>
<p>This approach works with any remote git repository for which you have the necessary access.</p>
</section>
<section id="setup-py">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">setup.py</a><a class="headerlink" href="#setup-py" title="Link to this heading"></a></h3>
<p>If your package is in a folder inside your project
(e.g., <a class="reference internal" href="upload.html"><span class="doc">you uploaded it</span></a>) which includes a <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file,
you can do either <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span> <span class="pre">--user</span></code> or <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--user</span> <span class="pre">--upgrade</span> <span class="pre">./</span></code></p>
<p>(Some setup instructions alternatively mention <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span> <span class="pre">--home</span></code>)</p>
<p>If pip requires that any external dependencies be downloaded, then your project must have internet access.</p>
</section>
<section id="virtualenv">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Virtualenv</a><a class="headerlink" href="#virtualenv" title="Link to this heading"></a></h3>
<p>You can avoid the need for <code class="docutils literal notranslate"><span class="pre">--user</span></code> flags if you work inside a Python virtual environment.
See  <a class="reference external" href="https://virtualenv.pypa.io/en/latest/user_guide.html">Virtualenv</a> for more information.</p>
</section>
<section id="sage">
<span id="sage-install-python-pkg"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink">Sage</a><a class="headerlink" href="#sage" title="Link to this heading"></a></h3>
<p>A special case is <a class="reference external" href="https://sagemath.org">SageMath</a>, which is a fully integrated environment built on top of Python.</p>
<p>To install a python package to be used from Sage, first open a CoCalc <a class="reference internal" href="../terminal.html"><span class="doc">Linux Terminal</span></a>. Then run the command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sage --pip install &lt;package_name&gt;
</pre></div>
</div>
<p>After this, you will be able to use the python package from within Sage in any of these settings:</p>
<ul class="simple">
<li><p>Command-line Sage.</p></li>
<li><p><a class="reference internal" href="../sagews.html"><span class="doc">Sage Worksheets</span></a>. After installing the package, you will have to restart the Sage worksheet server under project Settings, or restart the project.</p></li>
<li><p>Jupyter notebook running the Sage kernel. The version of Sage in the Jupyter kernel selected must match the version of Sage used on the command line to install the package. Restart the Jupyter kernel to pick up the newly installed package.</p></li>
</ul>
</section>
</section>
<section id="pipenv-with-a-jupyter-kernel">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Pipenv with a Jupyter Kernel</a><a class="headerlink" href="#pipenv-with-a-jupyter-kernel" title="Link to this heading"></a></h2>
<p>Here, we explain how to setup your own encapsulated Python environment using <a class="reference external" href="https://pipenv.pypa.io/en/latest/">pipenv</a>.
You can either choose to use the global packages,
or – as we do here – tell it to only have explicitly installed ones on board.</p>
<p>We start with an empty directory in our <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>~$ cd
~$ mkdir my-special-env
~$ cd my-special-env
</pre></div>
</div>
<p>Then we run <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">install</span></code> without site packages and specifying the python interpreter to use (Note: by default it might pick up <code class="docutils literal notranslate"><span class="pre">pypy3</span></code>, which is not a good idea in general). Install pandas below version <code class="docutils literal notranslate"><span class="pre">1.2</span></code> and the juypter kernel:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>~/my-special-env$ pipenv install --python /usr/bin/python3 --no-site-packages ipykernel &#39;pandas&lt;1.2&#39;
[output is abbreviated ...]
Creating a virtualenv for this project...
✔ Successfully created virtual environment!
Installing ipykernel...
✔ Installation Succeeded
Installing pandas&lt;1.2...
✔ Installation Succeeded
✔ Success!
Updated Pipfile.lock (4eda65)!
Installing dependencies from Pipfile.lock (4eda65)...
  🐍   ▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉ 0/0 — 00:00:00
To activate this project&#39;s virtualenv, run pipenv shell.
</pre></div>
</div>
<p>Now, we can launch it and give it a try. Let’s check if Pandas is below version <code class="docutils literal notranslate"><span class="pre">1.5</span></code> and other libs like <code class="docutils literal notranslate"><span class="pre">scipy</span></code> are not available:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>~/my-special-env$ pipenv shell
Launching subshell in virtual environment...
 . /home/user/.local/share/virtualenvs/my-special-env-gNmS0l6R/bin/activate
~/my-special-env$  . /home/user/.local/share/virtualenvs/my-special-env-gNmS0l6R/bin/activate
(my-special-env) ~/my-special-env$ python
Python 3.8.5 (default, Jul 28 2020, 12:59:40)
[GCC 9.3.0] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import scipy
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
ModuleNotFoundError: No module named &#39;scipy&#39;
&gt;&gt;&gt; import pandas
&gt;&gt;&gt; pandas.__version__
&#39;1.1.5&#39;
</pre></div>
</div>
<p>Finally, we install the Juypter Kernel. We run <code class="docutils literal notranslate"><span class="pre">ipykernel</span> <span class="pre">install</span></code> and give the kernel a unique name.
After opening the file in CoCalc’s editor via <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">&lt;filename.ipynb&gt;</span></code> ,
make sure to run “Kernel” → “Refresh kernel list”, to get the new kernel.
Then select it and you’re good to code!</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(my-special-env) ~/my-special-env$ python3 -m ipykernel install --user --name=my-special-env
Installed kernelspec my-special-env in /home/user/.local/share/jupyter/kernels/my-special-env
(my-special-env) ~/my-special-env$ open my-special-env.ipynb
creating file &#39;my-special-env.ipynb&#39;
</pre></div>
</div>
<p>All in all this gives you a precisely defined environment, outfitted with checksums for all dependencies for reproducibility.</p>
</section>
<section id="anaconda-environment">
<span id="anaconda-install"></span><h2><a class="toc-backref" href="#id12" role="doc-backlink">Anaconda Environment</a><a class="headerlink" href="#anaconda-environment" title="Link to this heading"></a></h2>
<p><a class="reference external" href="https://conda.io/en/latest/">Conda</a> is an alternative packaging system by <a class="reference external" href="https://anaconda.org/">Anaconda</a>.
It is mostly used for Python packages, but it can manage and deliver almost any kind of software.</p>
<p>CoCalc provides a global environment, which you can start by running <code class="docutils literal notranslate"><span class="pre">anaconda2020</span></code> in a <a class="reference internal" href="../terminal.html"><span class="doc">Linux Terminal</span></a> or a related kernel in a <a class="reference internal" href="../jupyter.html"><span class="doc">Jupyter Notebooks</span></a>.
To get going with your own setup for your own CoCalc project,
you have to <a class="reference internal" href="#anaconda-install-own-env"><span class="std std-ref">create your own environment</span></a>
and your <a class="reference internal" href="#anaconda-jupyter"><span class="std std-ref">own kernel</span></a>.</p>
<section id="install-my-own-anaconda-environment">
<span id="anaconda-install-own-env"></span><h3><a class="toc-backref" href="#id13" role="doc-backlink">Install my own Anaconda environment</a><a class="headerlink" href="#install-my-own-anaconda-environment" title="Link to this heading"></a></h3>
<p>This will create a custom Anaconda overlay environment called <code class="docutils literal notranslate"><span class="pre">myenv</span></code> in your project.</p>
<p>To get it installed in Anaconda as a user, do this:</p>
<ol class="arabic">
<li><p>Open a terminal.</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">anaconda2023</span></code> (or just <code class="docutils literal notranslate"><span class="pre">anaconda</span></code> to launch the newest version)</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">mamba</span> <span class="pre">env</span> <span class="pre">create</span> <span class="pre">--prefix</span> <span class="pre">~/myenv</span> <span class="pre">-c</span> <span class="pre">mro</span> <span class="pre">r</span></code> This creates a new isolated local (hence <code class="docutils literal notranslate"><span class="pre">--prefix</span> <span class="pre">...</span></code>) environment in the directory <code class="docutils literal notranslate"><span class="pre">~/myenv</span></code> with the package “r” as its source coming from the channel “mro” (Microsoft’s Open R). Instead of that, you can add any other anaconda package or use <code class="docutils literal notranslate"><span class="pre">--file=environment.yml</span></code> to reconstruct from a full environment definition. For more details, see <a class="reference external" href="http://conda.pydata.org/docs/using/envs.html#create-an-environment">http://conda.pydata.org/docs/using/envs.html#create-an-environment</a>.</p></li>
<li><p>When installing, it will resolve the package dependencies, download packages, unpack and install them. Afterwards, run <code class="docutils literal notranslate"><span class="pre">mamba</span> <span class="pre">clean</span> <span class="pre">--all</span> <span class="pre">--yes</span></code> to save disk space.</p></li>
<li><p>Now that we have it installed, we can get out of this “root” environment via <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">deactivate</span></code> or restart the session. In any case, you are back in the the normal Linux terminal environment.</p></li>
<li><p>To activate it again, run <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">~/myenv/bin/activate</span></code>. You can also add this line to your Terminal’s <a class="reference internal" href="../terminal.html#terminal-startup-files"><span class="std std-ref">Startup file</span></a>.</p></li>
<li><p>In the very same spirit, you can also run pip installations:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(myenv)~$ pip install plotly
Downloading/unpacking plotly
[...]
Successfully installed plotly requests six pytz
</pre></div>
</div>
</li>
</ol>
</section>
<section id="configure-a-jupyter-kernel-for-my-custom-anaconda-environment">
<span id="anaconda-jupyter"></span><h3><a class="toc-backref" href="#id14" role="doc-backlink">Configure a Jupyter kernel for my custom Anaconda environment</a><a class="headerlink" href="#configure-a-jupyter-kernel-for-my-custom-anaconda-environment" title="Link to this heading"></a></h3>
<p>Make sure to install <code class="docutils literal notranslate"><span class="pre">ipykernel</span></code> in your custom environment. Then see <a class="reference internal" href="custom-jupyter-kernel.html#install-custom-python-env-kernel"><span class="std std-ref">Adding a kernel for a Custom Python Environment</span></a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="install-julia-package.html" class="btn btn-neutral float-left" title="Install Julia Packages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="install-r-package.html" class="btn btn-neutral float-right" title="Install R Packages" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Sagemath, Inc., CC BY-4.0 licensed.</p>
  </div>

  

<div role="contentinfo">
  <p>
    Please contact us for <a href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!">Questions and Feedback</a>,
    <a href="https://github.com/sagemathinc/cocalc-doc/">Documentation Repository</a>,
    <a href="https://cocalc.com/policies/">Privacy Policy and ToS</a>.
   </p>
   <p>
    <a href="https://github.com/sagemathinc/cocalc-doc/edit/master/source/howto/install-python-lib.rst" class="fa fa-github"> Edit this page on GitHub</a>
  </p>
  <p>
    <strong><a href="https://cocalc.com/app">Start CoCalc</a></strong> – start free, upgrade later!
  </p>
</div>


</footer>
        </div>

      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <a class="github cocalcbanner" href="https://cocalc.com/app?anonymous=true">
     <img alt="Start CoCalc"
          class="github"
          src="../_static/start-cocalc.png"
          style="position: fixed; top: 0; right: 0; border: 0; height: 75px; width: 75px">
  </a>


</body>
</html>
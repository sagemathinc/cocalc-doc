


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Run a Web Server &mdash; CoCalc Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="../_static/favicon-32x32.png"/>
    <link rel="canonical" href="https://doc.cocalc.com/howto/webserver.html" />
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="https://cocalc.com/analytics.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bokeh / DASK / Holoview" href="bokeh-server.html" />
    <link rel="prev" title="Ruby Programming" href="ruby.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://doc.cocalc.com/howto/webserver.html"/>
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../index.html" class="icon icon-home"> CoCalc Manual
  <img src="../_static/../_static/cocalc-doc-logo.svg" class="logo" alt="Logo"/>
</a>

<style>
div.cocalc-header {
  padding: 10px;
  margin-bottom: 10px;
  color: white;
  background-color: #4375c1;
  font-weight: bold;
  text-align: center;
  box-shadow: 1px 4px 4px -1px #4375c1;
  border-radius: 0 0 3px 3px;
}
div.cocalc-header a {
  color: #ddd;
  background-color: transparent;
  text-decoration: none;
}
</style>

<div class="cocalc-header">
  We provide the best real-time collaborative environment for <a href="https://cocalc.com/features/jupyter-notebook">Jupyter</a>, <a href="https://cocalc.com/features/latex-editor">LaTeX</a>, and <a href="https://cocalc.com/features/jupyter-notebook">SageMath</a>!
</div>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core_applications.html">Core Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../signature_features.html">Signature Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_capabilities.html">Advanced Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_interface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service_options.html">Service Options</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">How-tos</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#cocalc-platform">CoCalc Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#jupyter-notebooks">Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#programming-languages">Programming Languages</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#servers">Servers</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Custom</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#web-server-proxy">Web Server Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#port-proxy">Port Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-example">Python Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#security">Security</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamically-generated-subdomains">Dynamically Generated Subdomains</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bokeh-server.html">Bokeh / DASK / Holoview</a></li>
<li class="toctree-l3"><a class="reference internal" href="plotly-dash.html">Dash</a></li>
<li class="toctree-l3"><a class="reference internal" href="postgresql.html">PostgreSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="shiny-server.html">Shiny</a></li>
<li class="toctree-l3"><a class="reference internal" href="streamlit.html">Streamlit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tools">Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Essential Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../teaching-instructors.html">Instructor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../teaching-students.html">Student Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="trouble.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
  <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
  <a href="../index.html">CoCalc Manual</a>

      </nav>

      <div class="wy-nav-content">

        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">How-tos</a></li>
      <li class="breadcrumb-item active">Run a Web Server</li>
<li class="wy-breadcrumbs-aside" style="padding: 0;">
  <a
    class="fa fa-question-circle"
    href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!"
    style="background-color: #daeefb; color: black; border: 3px solid #2980b9; padding: 2px 5px; border-radius: 4px;"
  >
    Ask us a Question!
  </a>
</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="run-a-web-server">
<span id="webserver"></span><h1>Run a Web Server<a class="headerlink" href="#run-a-web-server" title="Link to this heading"></a></h1>
<p>For testing and development, it is possible to run a web server inside a CoCalc project.
Only project collaborators can access it.</p>
<p>If you want to run an exposed web server, you can do it with <a class="reference internal" href="../compute_server.html"><span class="doc">Compute Servers</span></a>!</p>
<section id="web-server-proxy">
<h2>Web Server Proxy<a class="headerlink" href="#web-server-proxy" title="Link to this heading"></a></h2>
<p>If your HTTP web server is listening on <code class="docutils literal notranslate"><span class="pre">PORT</span></code>, you can access it at</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>https://cocalc.com/PROJECT_ID/server/PORT/
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">PROJECT_ID</span></code> is your project ID like <code class="docutils literal notranslate"><span class="pre">60f9ea81-5bd0-45ae-9965-76de986e101f</span></code>, visible in the URL of your project itself and accessible via <code class="docutils literal notranslate"><span class="pre">COCALC_PROJECT_ID</span></code> environment variable.</p>
<p>As a test, you can launch a simple server from your project as</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python -m http.server 8000
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Your web server must serve <strong>all</strong> IP addresses, <strong>not</strong> just <code class="docutils literal notranslate"><span class="pre">localhost</span></code>!</p>
</div>
<p>For example, you might have to start the service using <code class="docutils literal notranslate"><span class="pre">--ip=0.0.0.0</span></code> (the exact flag depends on the service).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Your web server should not rely on absolute URLs.</p>
</div>
<p>For example, if it serves a file <code class="docutils literal notranslate"><span class="pre">index.html</span></code> like this</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;a href=&#39;/index.html&#39;&gt;HOME!&lt;/a&gt;
</pre></div>
</div>
<p>then when you click this link your browser will try to grab</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>https://cocalc.com/index.html
</pre></div>
</div>
<p>instead of</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>https://cocalc.com/PROJECT_ID/server/PORT/index.html
</pre></div>
</div>
<p>Obviously, this can’t possibly work.</p>
<p>Many web servers, e.g., tensorboard, work fine and do not do this. Others won’t work without modification.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This functionality is similar to VS Code proxy.</p>
</div>
</section>
<section id="port-proxy">
<h2>Port Proxy<a class="headerlink" href="#port-proxy" title="Link to this heading"></a></h2>
<p>If you use <code class="docutils literal notranslate"><span class="pre">port</span></code> instead of <code class="docutils literal notranslate"><span class="pre">server</span></code>, i.e. a URL like</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>https://cocalc.com/PROJECT_ID/port/PORT/
</pre></div>
</div>
<p>your web server will get a request for <code class="docutils literal notranslate"><span class="pre">/PROJECT_ID/port/PORT/</span></code> rather than for <code class="docutils literal notranslate"><span class="pre">/</span></code> as it does with <code class="docutils literal notranslate"><span class="pre">server</span></code>. Otherwise, everything is the same, including the warnings.</p>
</section>
<section id="python-example">
<h2>Python Example<a class="headerlink" href="#python-example" title="Link to this heading"></a></h2>
<p>Let’s put the following code into <code class="docutils literal notranslate"><span class="pre">server.py</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>from http.server import HTTPServer, SimpleHTTPRequestHandler
import os

BASE_URL = &quot;/&quot; + os.environ[&#39;COCALC_PROJECT_ID&#39;] + &#39;/port/8000&#39;

class BaseURLHandler(SimpleHTTPRequestHandler):
    def do_GET(self):
        if self.path.startswith(BASE_URL):
            # Rewrite to strip the prefix before serving files
            self.path = self.path[len(BASE_URL):] or &quot;/&quot;
            return super().do_GET()
        else:
            self.send_error(404, &quot;Not Found&quot;)

if __name__ == &quot;__main__&quot;:
    server = HTTPServer((&quot;0.0.0.0&quot;, 8000), BaseURLHandler)
    print(f&quot;Serving on https://cocalc.com{BASE_URL}/&quot;)
    server.serve_forever()
</pre></div>
</div>
<p>Then you can start it in a terminal and get something like</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>~$ python -m server
Serving on https://cocalc.com/35dd0d93-f702-4bd4-90dc-f5a3c2117ba2/port/8000/
192.168.144.61 - - [05/Oct/2025 21:43:27] &quot;GET /35dd0d93-f702-4bd4-90dc-f5a3c2117ba2/port/8000/HW2/ HTTP/1.1&quot; 200 -
...
</pre></div>
</div>
</section>
<section id="security">
<h2>Security<a class="headerlink" href="#security" title="Link to this heading"></a></h2>
<p>Only project collaborators can access the web server via an SSL encrypted connection.
Our proxy server will reject all other requests.
This means you don’t have to worry about setting up logins/passwords on whatever web server you run in your project.
If you want to run a web server that is visible to anybody in the world, use <a class="reference internal" href="../compute_server.html"><span class="doc">Compute Servers</span></a>!</p>
</section>
<section id="dynamically-generated-subdomains">
<h2>Dynamically Generated Subdomains<a class="headerlink" href="#dynamically-generated-subdomains" title="Link to this heading"></a></h2>
<p>Use <a class="reference internal" href="../compute_server.html"><span class="doc">Compute Servers</span></a>!</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ruby.html" class="btn btn-neutral float-left" title="Ruby Programming" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bokeh-server.html" class="btn btn-neutral float-right" title="Bokeh / DASK / Holoview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Sagemath, Inc., CC BY-4.0 licensed.</p>
  </div>

  

<div role="contentinfo">
  <p>
    Please contact us for <a href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!">Questions and Feedback</a>,
    <a href="https://github.com/sagemathinc/cocalc-doc/">Documentation Repository</a>,
    <a href="https://cocalc.com/policies/">Privacy Policy and ToS</a>.
   </p>
   <p>
    <a href="https://github.com/sagemathinc/cocalc-doc/edit/master/source/howto/webserver.rst" class="fa fa-github"> Edit this page on GitHub</a>
  </p>
  <p>
    <strong><a href="https://cocalc.com/app">Start CoCalc</a></strong> – start free, upgrade later!
  </p>
</div>


</footer>
        </div>

      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <a class="github cocalcbanner" href="https://cocalc.com/app?anonymous=true">
     <img alt="Start CoCalc"
          class="github"
          src="../_static/start-cocalc.png"
          style="position: fixed; top: 0; right: 0; border: 0; height: 75px; width: 75px">
  </a>


</body>
</html>
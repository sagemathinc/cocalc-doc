
<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jupyter Tips and Tricks &mdash; CoCalc Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="_static/favicon-32x32.png"/>
    <link rel="canonical" href="https://doc.cocalc.com/jupyter-tips-and-tricks.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="https://cocalc.com/analytics.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="LaTeX Editor" href="latex.html" />
    <link rel="prev" title="Classical Versus CoCalc Jupyter Notebooks" href="jupyter-classical-vs-cocalc.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://doc.cocalc.com/jupyter-tips-and-tricks.html"/>
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="index.html" class="icon icon-home"> CoCalc Manual
  <img src="_static/_static/cocalc-doc-logo.svg" class="logo" alt="Logo"/>
</a>

<style>
div.cocalc-header {
  padding: 10px;
  margin-bottom: 10px;
  color: white;
  background-color: #4375c1;
  font-weight: bold;
  text-align: center;
  box-shadow: 1px 4px 4px -1px #4375c1;
  border-radius: 0 0 3px 3px;
}
div.cocalc-header a {
  color: #ddd;
  background-color: transparent;
  text-decoration: none;
}
</style>

<div class="cocalc-header">
  We provide the best real-time collaborative environment for <a href="https://cocalc.com/features/jupyter-notebook">Jupyter</a>, <a href="https://cocalc.com/features/latex-editor">LaTeX</a>, and <a href="https://cocalc.com/features/jupyter-notebook">SageMath</a>!
</div>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="alternativeto/index.html">Alternatives</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="main_features.html">Main Features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ai.html">AI Assistant</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="jupyter.html">Jupyter Notebooks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="jupyter-start.html">Getting Started with Jupyter Notebooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="jupyter-enhancements.html">CoCalc Enhancements to Jupyter Notebooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="jupyter-classical-vs-cocalc.html">Classical Versus CoCalc Jupyter Notebooks</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Jupyter Tips and Tricks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#run-jupyter-notebook-with-gpu-support">Run Jupyter notebook with GPU support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#customize-jupyter-notebook-latex-export-settings">Customize Jupyter notebook LaTeX export settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#embed-a-cocalc-project-in-your-website">Embed a CoCalc project in your website</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notebook-too-large-remove-output">Notebook too large? Remove output.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#play-a-wav-file-in-a-jupyter-notebook">Play a .wav file in a Jupyter notebook</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-local-files-to-troubleshoot-a-notebook">Remove Local Files to Troubleshoot a Notebook</a></li>
<li class="toctree-l4"><a class="reference internal" href="#use-the-halt-button-to-conserve-memory">Use the Halt Button to Conserve Memory</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="latex.html">LaTeX Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="terminal.html">Linux Terminal</a></li>
<li class="toctree-l2"><a class="reference internal" href="chat.html">Chatrooms</a></li>
<li class="toctree-l2"><a class="reference internal" href="share.html">Collaborate. Share! Publish!!!</a></li>
<li class="toctree-l2"><a class="reference internal" href="time-travel.html">TimeTravel</a></li>
<li class="toctree-l2"><a class="reference internal" href="backups.html">Backups</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_server.html">Compute Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloud_file_system.html">Cloud File System</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="working_with.html">Working With</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_interface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_options.html">Service Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="teaching-instructors.html">Instructor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="teaching-students.html">Student Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/trouble.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
  <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
  <a href="index.html">CoCalc Manual</a>

      </nav>

      <div class="wy-nav-content">

        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="main_features.html">Main Features</a></li>
          <li class="breadcrumb-item"><a href="jupyter.html">Jupyter Notebooks</a></li>
      <li class="breadcrumb-item active">Jupyter Tips and Tricks</li>
<li class="wy-breadcrumbs-aside" style="padding: 0;">
  <a
    class="fa fa-question-circle"
    href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!"
    style="background-color: #daeefb; color: black; border: 3px solid #2980b9; padding: 2px 5px; border-radius: 4px;"
  >
    Ask us a Question!
  </a>
</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="jupyter-tips-and-tricks">
<span id="index-0"></span><h1>Jupyter Tips and Tricks<a class="headerlink" href="#jupyter-tips-and-tricks" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#run-jupyter-notebook-with-gpu-support" id="id3">Run Jupyter notebook with GPU support</a></p></li>
<li><p><a class="reference internal" href="#customize-jupyter-notebook-latex-export-settings" id="id4">Customize Jupyter notebook LaTeX export settings</a></p></li>
<li><p><a class="reference internal" href="#embed-a-cocalc-project-in-your-website" id="id5">Embed a CoCalc project in your website</a></p></li>
<li><p><a class="reference internal" href="#notebook-too-large-remove-output" id="id6">Notebook too large? Remove output.</a></p></li>
<li><p><a class="reference internal" href="#play-a-wav-file-in-a-jupyter-notebook" id="id7">Play a .wav file in a Jupyter notebook</a></p></li>
<li><p><a class="reference internal" href="#remove-local-files-to-troubleshoot-a-notebook" id="id8">Remove Local Files to Troubleshoot a Notebook</a></p></li>
<li><p><a class="reference internal" href="#use-the-halt-button-to-conserve-memory" id="id9">Use the Halt Button to Conserve Memory</a></p></li>
</ul>
</nav>
<section id="run-jupyter-notebook-with-gpu-support">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Run Jupyter notebook with GPU support</a><a class="headerlink" href="#run-jupyter-notebook-with-gpu-support" title="Link to this heading"></a></h2>
<p>CoCalc allows you to use basic and advanced GPUs for a few pennies an hour! See <a class="reference internal" href="compute_server.html"><span class="doc">Compute Servers</span></a> for details.</p>
</section>
<section id="customize-jupyter-notebook-latex-export-settings">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Customize Jupyter notebook LaTeX export settings</a><a class="headerlink" href="#customize-jupyter-notebook-latex-export-settings" title="Link to this heading"></a></h2>
<p>See <a class="reference internal" href="latex-faq.html#nbconvert-exports"><span class="std std-ref">Customize Jupyter notebook LaTeX export settings</span></a>.</p>
</section>
<section id="embed-a-cocalc-project-in-your-website">
<span id="jupyter-ipynb-too-large"></span><span id="index-1"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">Embed a CoCalc project in your website</a><a class="headerlink" href="#embed-a-cocalc-project-in-your-website" title="Link to this heading"></a></h2>
<p>Suppose you have an interactive application running in a CoCalc project and you would like to share it.
You can share documents publicly and embed them, see <a class="reference internal" href="share.html"><span class="doc">Collaborate. Share! Publish!!!</span></a>.</p>
<p>Embedding the CoCalc interactive website directly in any other website is restricted because it is a security risk (see <a class="reference external" href="https://owasp.org/www-community/attacks/Clickjacking">clickjacking</a>, etc.).
Beyond that, users who are not collaborators won’t be able to see the project.</p>
</section>
<section id="notebook-too-large-remove-output">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Notebook too large? Remove output.</a><a class="headerlink" href="#notebook-too-large-remove-output" title="Link to this heading"></a></h2>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="_images/ipynb-too-large-help.png"><img alt="file-too-large error" src="_images/ipynb-too-large-help.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">Jupyter notebook <em>file too large</em> error</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>If the size of your notebook exceeds 50 MB, you will not be able to open it in the usual way; instead, you will see the error message shown above. Usually, the problem occurs when the notebook has created large amounts of output. In that case, there is a command you can run from the <a class="reference internal" href="terminal.html"><span class="doc">Linux Terminal</span></a> to remove output. If removing output results in a small enough notebook, you will be able to open the “-no-output” version of the notebook normally.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># run this from a CoCalc Linux terminal (.term file)</span>
<span class="c1"># use the actual name of your notebook for &quot;myfile.ipynb&quot;</span>
cc-jupyter-no-output<span class="w"> </span>myfile.ipynb
<span class="c1"># the above command creates myfile-no-output.ipynb</span>
</pre></div>
</div>
<p>If your Jupyter notebook is creating an image file from a plot that exceeds the size limit, here are some things you can do:</p>
<ol class="arabic">
<li><p>If you are using a CoCalc Jupyter notebook (which we generally recommend), it may be possible to open the notebook with <a class="reference internal" href="jupyter-classical-vs-cocalc.html#jupyter-server-alternatives"><span class="std std-ref">the classical jupyter server or JupyterLab</span></a>. Once you have the file open, you can modify the code to produce a smaller plot. Then you can go back to using the CoCalc notebook.</p></li>
<li><p>Revert the notebook to an earlier version, before the large plot was created. Click the <a class="reference internal" href="project-files.html#project-snapshot"><span class="std std-ref">Backups button</span></a> in the file listing and copy over an earlier version, then modify your code to produce a smaller plot.</p></li>
<li><p>The default image file format for plots with the “R (R Project)” Jupyter kernel is SVG. For large plots, smaller files may be produced if the format is set to PNG, because SVG plots (the default) grow in size proportionally to the data they are supposed to show, wherease PNG plots are rasterized, so file size does not have the same proportionality relationship to amount of data. To set image output format in an R Jupyter notebook to PNG, run the following in a compute cell before creating the plot:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>options(jupyter.plot_mimetypes = c(&#39;text/plain&#39;, &#39;image/png&#39;))
</pre></div>
</div>
</li>
</ol>
</section>
<section id="play-a-wav-file-in-a-jupyter-notebook">
<span id="index-3"></span><span id="index-2"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">Play a .wav file in a Jupyter notebook</a><a class="headerlink" href="#play-a-wav-file-in-a-jupyter-notebook" title="Link to this heading"></a></h2>
<p>CoCalc Jupyter notebooks now support embedding audio files. There are several ways you can embed an audio file so it plays nicely in a Jupyter notebook:</p>
<section id="wav-file-on-disk">
<h3>wav file on disk<a class="headerlink" href="#wav-file-on-disk" title="Link to this heading"></a></h3>
<ol class="arabic">
<li><p>Create a file on disk, e.g., <code class="docutils literal notranslate"><span class="pre">tuba.wav</span></code>. If you’re using <code class="docutils literal notranslate"><span class="pre">simpleaudio</span></code> or something else to create sound, make sure to figure out how to save that sound to a local file.</p></li>
<li><p>Put this in the markdown cell and hit shift+enter:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;audio controls=true src=&quot;tuba.wav&quot;/&gt;
</pre></div>
</div>
</li>
<li><p>You’ll see an embedded audio controller appear and you can play your audio.</p></li>
</ol>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="_images/jupyter-wav-2.png"><img alt="audio controls for wav playback" src="_images/jupyter-wav-2.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-text">audio controls to play wav file</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="wav-file-embedded-in-notebook">
<h3>wav file embedded in notebook<a class="headerlink" href="#wav-file-embedded-in-notebook" title="Link to this heading"></a></h3>
<p>Alternatively, you might want the file to be embedded in the notebook itself. To do this, click the picture icon on the right of a markdown cell, or click “Edit –&gt; Insert images in …”, then drag and drop to copy the wav file as an attachment to that cell. Then replace the image attachment code that is generated by:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;audio controls=true src=&quot;attachment:tuba.wav&quot;/&gt;
</pre></div>
</div>
<p>and again you’ll see a player and can play your file.</p>
</section>
</section>
<section id="remove-local-files-to-troubleshoot-a-notebook">
<span id="index-4"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">Remove Local Files to Troubleshoot a Notebook</a><a class="headerlink" href="#remove-local-files-to-troubleshoot-a-notebook" title="Link to this heading"></a></h2>
<p>If you have a Jupyter notebook that suddenly stops working, especially with extensions or widgets, you can try removing local files in a <a class="reference internal" href="terminal.html"><span class="doc">Linux Terminal</span></a>, then restarting and running the notebook:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd
rm -rf .sage .ipython/ .config/ .local/ .jupyter .cache/
</pre></div>
</div>
<p>You will need to reinstall packages you added locally after doing the above.</p>
</section>
<section id="use-the-halt-button-to-conserve-memory">
<span id="jupyter-halt"></span><span id="index-5"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">Use the Halt Button to Conserve Memory</a><a class="headerlink" href="#use-the-halt-button-to-conserve-memory" title="Link to this heading"></a></h2>
<p>Each running Jupyter Notebook spawns a session in your project.
This <strong>uses up memory</strong>, which could cause troubles running all your processes in your project.</p>
<p>You can either <em>restart</em> the kernel to clean up its current memory (i.e. all variables are deleted), or if you’ve finished working on that notebook, click the <code class="docutils literal notranslate"><span class="pre">Halt</span></code> button to stop the kernel and close the notebook.</p>
<a class="reference internal image-reference" href="_images/jupyter-halt-button.png"><img alt="halt button" src="_images/jupyter-halt-button.png" style="width: 90%;" /></a>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="jupyter-classical-vs-cocalc.html" class="btn btn-neutral float-left" title="Classical Versus CoCalc Jupyter Notebooks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="latex.html" class="btn btn-neutral float-right" title="LaTeX Editor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Sagemath, Inc., CC BY-4.0 licensed.</p>
  </div>

  

<div role="contentinfo">
  <p>
    Please contact us for <a href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!">Questions and Feedback</a>,
    <a href="https://github.com/sagemathinc/cocalc-doc/">Documentation Repository</a>,
    <a href="https://cocalc.com/policies/">Privacy Policy and ToS</a>.
   </p>
   <p>
    <a href="https://github.com/sagemathinc/cocalc-doc/edit/master/source/jupyter-tips-and-tricks.rst" class="fa fa-github"> Edit this page on GitHub</a>
  </p>
  <p>
    <strong><a href="https://cocalc.com/app">Start CoCalc</a></strong> – start free, upgrade later!
  </p>
</div>


</footer>
        </div>

      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <a class="github cocalcbanner" href="https://cocalc.com/app?anonymous=true">
     <img alt="Start CoCalc"
          class="github"
          src="_static/start-cocalc.png"
          style="position: fixed; top: 0; right: 0; border: 0; height: 75px; width: 75px">
  </a>


</body>
</html>
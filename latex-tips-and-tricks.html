


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LaTeX Tips and Tricks &mdash; CoCalc Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="_static/favicon-32x32.png"/>
    <link rel="canonical" href="https://doc.cocalc.com/latex-tips-and-tricks.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="https://cocalc.com/analytics.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Linux Terminal" href="terminal.html" />
    <link rel="prev" title="LaTeX Editor" href="latex.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://doc.cocalc.com/latex-tips-and-tricks.html"/>
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="index.html" class="icon icon-home"> CoCalc Manual
  <img src="_static/_static/cocalc-doc-logo.svg" class="logo" alt="Logo"/>
</a>

<style>
div.cocalc-header {
  padding: 10px;
  margin-bottom: 10px;
  color: white;
  background-color: #4375c1;
  font-weight: bold;
  text-align: center;
  box-shadow: 1px 4px 4px -1px #4375c1;
  border-radius: 0 0 3px 3px;
}
div.cocalc-header a {
  color: #ddd;
  background-color: transparent;
  text-decoration: none;
}
</style>

<div class="cocalc-header">
  We provide the best real-time collaborative environment for <a href="https://cocalc.com/features/jupyter-notebook">Jupyter</a>, <a href="https://cocalc.com/features/latex-editor">LaTeX</a>, and <a href="https://cocalc.com/features/jupyter-notebook">SageMath</a>!
</div>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="core_applications.html">Core Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="jupyter.html">Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter-tips-and-tricks.html">Jupyter Tips and Tricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="latex.html">LaTeX Editor</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">LaTeX Tips and Tricks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pythontex">PythonTeX</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sagetex">SageTeX</a></li>
<li class="toctree-l3"><a class="reference internal" href="#knitr">Knitr</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-command">Build Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enable-shell-escape">Enable <code class="docutils literal notranslate"><span class="pre">shell-escape</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-latex-packages">Install LaTeX Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-your-own-styles">Use Your Own Styles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#include-an-image">Include an Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#draw-with-asymptote">Draw With Asymptote</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-pstricks-macros">Use PSTricks Macros</a></li>
<li class="toctree-l3"><a class="reference internal" href="#word-count">Word Count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#encoding">Encoding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="terminal.html">Linux Terminal</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="signature_features.html">Signature Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_capabilities.html">Advanced Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_interface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_options.html">Service Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Essential Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="teaching-instructors.html">Instructor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="teaching-students.html">Student Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/trouble.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
  <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
  <a href="index.html">CoCalc Manual</a>

      </nav>

      <div class="wy-nav-content">

        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="core_applications.html">Core Applications</a></li>
      <li class="breadcrumb-item active">LaTeX Tips and Tricks</li>
<li class="wy-breadcrumbs-aside" style="padding: 0;">
  <a
    class="fa fa-question-circle"
    href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!"
    style="background-color: #daeefb; color: black; border: 3px solid #2980b9; padding: 2px 5px; border-radius: 4px;"
  >
    Ask us a Question!
  </a>
</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="latex-tips-and-tricks">
<span id="index-0"></span><h1>LaTeX Tips and Tricks<a class="headerlink" href="#latex-tips-and-tricks" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#pythontex" id="id4">PythonTeX</a></p></li>
<li><p><a class="reference internal" href="#sagetex" id="id5">SageTeX</a></p></li>
<li><p><a class="reference internal" href="#knitr" id="id6">Knitr</a></p></li>
<li><p><a class="reference internal" href="#build-command" id="id7">Build Command</a></p></li>
<li><p><a class="reference internal" href="#enable-shell-escape" id="id8">Enable <code class="docutils literal notranslate"><span class="pre">shell-escape</span></code></a></p></li>
<li><p><a class="reference internal" href="#install-latex-packages" id="id9">Install LaTeX Packages</a></p></li>
<li><p><a class="reference internal" href="#use-your-own-styles" id="id10">Use Your Own Styles</a></p></li>
<li><p><a class="reference internal" href="#include-an-image" id="id11">Include an Image</a></p></li>
<li><p><a class="reference internal" href="#draw-with-asymptote" id="id12">Draw With Asymptote</a></p></li>
<li><p><a class="reference internal" href="#use-pstricks-macros" id="id13">Use PSTricks Macros</a></p></li>
<li><p><a class="reference internal" href="#word-count" id="id14">Word Count</a></p></li>
<li><p><a class="reference internal" href="#encoding" id="id15">Encoding</a></p></li>
</ul>
</nav>
<section id="pythontex">
<span id="latex-pythontex"></span><span id="index-1"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">PythonTeX</a><a class="headerlink" href="#pythontex" title="Link to this heading"></a></h2>
<center><iframe
    width="640" height="360"
    src="https://www.youtube.com/embed/sN--nWPyFuk?si=4y13tJQvRJsPrn26"
    title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen>
</iframe></center><p><a class="reference external" href="https://ctan.org/pkg/pythontex">PythonTeX</a> follows the same spirit as <a class="reference internal" href="#latex-sagetex"><span class="std std-ref">SageTeX</span></a>.
Embedded Python commands and blocks of code are extracted into a <code class="docutils literal notranslate"><span class="pre">.py</span></code> file,
Python evaluates them,
and at the end the LaTeX engine merges the generated output snippets into the final document and renders the PDF file.
CoCalc handles all details for you!</p>
<p>To get going, insert <code class="docutils literal notranslate"><span class="pre">\usepackage{pythontex}</span></code> into the <a class="reference external" href="https://en.wikibooks.org/wiki/LaTeX/Document_Structure#Preamble">preamble</a> of your document.
Then, you can insert inline code snippets via <code class="docutils literal notranslate"><span class="pre">\py{}</span></code> and blocks of code inside of <code class="docutils literal notranslate"><span class="pre">\begin{pyblock}</span></code> and <code class="docutils literal notranslate"><span class="pre">\end{pyblock}</span></code>.
There is also support for <a class="reference external" href="https://www.sympy.org/">SymPy</a> code via <code class="docutils literal notranslate"><span class="pre">\sympy{}</span></code> or plots via Pylab using <code class="docutils literal notranslate"><span class="pre">\pylab{}</span></code>.</p>
<p>For example, code like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Python code: $2+3 = \py{2+3}$

\begin{sympyblock}
x = Symbol(&#39;x&#39;)
f = x**2 * cos(x)
fi = integrate(f, x)
\end{sympyblock}

The integral of $\sympy{f}$ is $\sympy{fi.simplify()}$
</pre></div>
</div>
<p>produces:</p>
<a class="reference internal image-reference" href="_images/latex-pythontex.png"><img alt="latex with pythontex" class="align-center" src="_images/latex-pythontex.png" style="width: 75%;" />
</a>
<p>You can read more in the <a class="reference external" href="https://ctan.org/pkg/pythontex">PythonTeX Documentation</a>.
Also note, that sometimes it is necessary to run build again to properly re-process all code snippets.
There is also a PythonTeX example document in the CoCalc Library.</p>
</section>
<section id="sagetex">
<span id="latex-sagetex"></span><span id="index-2"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">SageTeX</a><a class="headerlink" href="#sagetex" title="Link to this heading"></a></h2>
<center><iframe
    width="640" height="360"
    src="https://www.youtube.com/embed/K-5CqXwRHgA?si=lX5bNDCtcUEoESFF"
    title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen>
</iframe></center><p>Any <code class="docutils literal notranslate"><span class="pre">.tex</span></code> file loading the <code class="docutils literal notranslate"><span class="pre">sagetex</span></code> package is automatically processed via Sage.
First, Sage code is extracted into a <code class="docutils literal notranslate"><span class="pre">.sage</span></code> file, then <code class="docutils literal notranslate"><span class="pre">sage</span> <span class="pre">...</span></code> evaluates that file, and finally the LaTeX engine creates the PDF document by replacing all snippets of Sage code by their evaluated result.
CoCalc handles all details for you!</p>
<p>To get going, you just have to insert <code class="docutils literal notranslate"><span class="pre">\usepackage{sagetex}</span></code> into the <a class="reference external" href="https://en.wikibooks.org/wiki/LaTeX/Document_Structure#Preamble">preamble</a> of your document.
Calculations are done like that: <code class="docutils literal notranslate"><span class="pre">$\frac{2}{3.5}</span> <span class="pre">=</span> <span class="pre">\sage{n(2/17)}$</span></code>, which results in <a class="reference internal" href="_images/latex-sagetex.png"><img alt="sagetex" src="_images/latex-sagetex.png" style="height: 17pt;" /></a>.</p>
<p>See <a class="reference external" href="https://ctan.org/tex-archive/macros/latex/contrib/sagetex">SageTeX documentation</a> for more details and examples.
There is also a SageTeX example in the CoCalc Library.
Besides that, the <a class="reference external" href="http://doc.sagemath.org/html/en/">SageMath Documentation</a> could also be of help!</p>
</section>
<section id="knitr">
<span id="latex-knitr"></span><span id="index-4"></span><span id="index-3"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">Knitr</a><a class="headerlink" href="#knitr" title="Link to this heading"></a></h2>
<p><a class="reference external" href="https://yihui.name/knitr/">Knitr LaTeX documents</a> are different from SageTeX and PythonTeX.
They have their own filename extension (CoCalc supports <code class="docutils literal notranslate"><span class="pre">.rnw</span></code> and <code class="docutils literal notranslate"><span class="pre">.Rtex</span></code>) and instead of calling LaTeX commands of a package, they feature their own syntax for embedded blocks and statements.
Historically, at first <a class="reference external" href="https://en.wikipedia.org/wiki/Sweave">Sweave</a> was added to R,
but Knitr is a much more modern variant with more features
(see <a class="reference external" href="https://yihui.name/knitr/demo/sweave/">Transition from Sweave to Knitr</a>).</p>
<p>In general, the compilation works by first processing the input file via Knitr,
which runs R and generates a <code class="docutils literal notranslate"><span class="pre">.tex</span></code> document.
Then, the Latex engine processes that <code class="docutils literal notranslate"><span class="pre">.tex</span></code> file as usual.
CoCalc handles all details for you.</p>
<p>To get started, create a file ending with <code class="docutils literal notranslate"><span class="pre">.rnw</span></code> (Rweave/Sweave syntax) or <code class="docutils literal notranslate"><span class="pre">.Rtex</span></code> (code is in comment blocks).
Both will initialize the file with a template explaining you how to work with it.
For example, a block like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;&lt;histogram-plot4, dev=&#39;tikz&#39;, fig.height=4, fig.width=10&gt;&gt;=
data &lt;- rnorm(1000)
hist(data)
@
</pre></div>
</div>
<p>produces a plot of a histogram, drawn using <a class="reference external" href="https://en.wikibooks.org/wiki/LaTeX/PGF/TikZ">TikZ</a>.</p>
<a class="reference internal image-reference" href="_images/latex-knitr.png"><img alt="latex with knitr" class="align-center" src="_images/latex-knitr.png" style="width: 75%;" />
</a>
<p>Note that <a class="reference internal" href="latex.html#latex-forward-inverse"><span class="std std-ref">Forward and Inverse Search</span></a> will work as well as reporting errors.</p>
</section>
<section id="build-command">
<span id="latex-build-engine"></span><span id="index-5"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">Build Command</a><a class="headerlink" href="#build-command" title="Link to this heading"></a></h2>
<p>In the <strong>Build</strong> tab of the output panel, you can use the <strong>Engine</strong> dropdown menu to select a supported LaTeX engine.
This replaces the current build command with a generic one, that’s known to work well in many situations!
These options are available:</p>
<ul class="simple">
<li><p><strong>latexmk</strong> + <strong>PDFlatex</strong>: the default configuration, works in most cases</p></li>
<li><p><strong>latexmk</strong> + <strong>XeLaTeX</strong>: this is useful for foreign languages with many special characters.</p></li>
<li><p><strong>latexmk</strong> + <strong>LuaTex</strong>: uses the <a class="reference external" href="http://www.luatex.org">LuaLaTeX</a> engine.</p></li>
</ul>
<p><strong>Output Directory</strong></p>
<p>By default, an <code class="docutils literal notranslate"><span class="pre">-output-directory=...</span></code> is set,
such that your current directory is kept clean of temporary files.
Instead, the actual build process happens in a temporary in-memory directory.</p>
<p>Some packages do not work under these circumstances,
hence there are <code class="docutils literal notranslate"><span class="pre">(no</span> <span class="pre">bulid</span> <span class="pre">dir)</span></code> variants, which do not set a temporary output directory flag.</p>
<p><strong>Bring your own command</strong></p>
<p>More general, you can also specify your own build command.
To avoid any processing of your build command, append a “;” semicolon at the end of your command or
even specify several commands separated by semicolons.
You could also use GNU Makefiles and call <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">...;</span></code> from here.</p>
<p><strong>Default build command</strong></p>
<p>The selected build command is stored in a companion file in the project, namely <code class="docutils literal notranslate"><span class="pre">*.tex.syncdb</span></code>.
You can also store the default engine or even hardcode the build command in the LaTeX document itself.
There are two relevant directives, which are special comment lines at the beginning of your file.</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">!TeX</span> <span class="pre">program</span> <span class="pre">=</span> <span class="pre">xelatex</span></code>: upon opening the file the first time, the <code class="docutils literal notranslate"><span class="pre">XeLaTeX</span></code> engine is selected. This is one of the default engine directives known from other latex editors. Later on, this line has no effect and your engine selection in CoCalc takes precedence. This could also be <code class="docutils literal notranslate"><span class="pre">pdflatex</span></code> or <code class="docutils literal notranslate"><span class="pre">luatex</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">!TeX</span> <span class="pre">cocalc</span> <span class="pre">=</span> <span class="pre">...</span> <span class="pre">file.tex</span></code>: This takes precedence over any other build command configurations. The command after the equal sign is used to build your document. Without a semicolon, the last token is replaced by the current file name, hence it is ok to just add <code class="docutils literal notranslate"><span class="pre">file.tex</span></code>. If there is a semicolon, no processing takes place. A suitable standard build command could be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>% !TeX cocalc = latexmk -pdf -f -g -bibtex -deps -synctex=1 -interaction=nonstopmode file.tex
</pre></div>
</div>
</li>
</ol>
</section>
<section id="enable-shell-escape">
<span id="index-7"></span><span id="index-6"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">Enable <code class="docutils literal notranslate"><span class="pre">shell-escape</span></code></a><a class="headerlink" href="#enable-shell-escape" title="Link to this heading"></a></h2>
<p>There are situations where the LaTeX document calls certain utilities to accomplish a task.
One example is creating plots via <a class="reference external" href="http://www.gnuplot.info/">Gnuplot</a> right inside the document.</p>
<p>For example, a snippet of LaTeX code could look like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>\begin{figure}
  \begin{tikzpicture}
     \begin{axis}[ ... ]
       \addplot [...] gnuplot [raw gnuplot] {plot [-0.015:0.015] cos(380*x);};
     \end{axis}
  \end{tikzpicture}
\end{figure}
</pre></div>
</div>
<p>In the middle, Gnuplot runs <code class="docutils literal notranslate"><span class="pre">plot</span> <span class="pre">[-0.015:0.015]</span> <span class="pre">cos(380*x);</span></code> to plot a cos function.</p>
<p>The <em>problem</em> is that by default the PDF LaTeX Engine doesn’t allow to run arbitrary commands
due to security concerns. You’ll see an error like that:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Package pgfplots Error: Sorry, the gnuplot-result file &#39;gnuplot.pgf-plot.table&#39;
could not be found.
Maybe you need to enable the shell-escape feature? [...]
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You have to select the <strong>PdfLaTeX (shell-escape)</strong> engine from the selector for
<a class="reference internal" href="#latex-build-engine"><span class="std std-ref">Build Command</span></a> or modify the build command manually.</p>
</div>
<p>As a result, Gnuplot will be run without errors. The necessary temporary files for the PGF plot will be created and the PDF will show the plot.
You can download the example <a class="reference download internal" download="" href="_downloads/6b3a257132ea32eed0b2ed1d74dbc3c5/gnuplot.tex"><code class="xref download docutils literal notranslate"><span class="pre">gnuplot.tex</span></code></a> and see it in a screenshot below:</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="_images/latex_shell_escape.png"><img alt="Shell Escape for gnuplot" src="_images/latex_shell_escape.png" style="width: 90%;" />
</a>
<figcaption>
<p><span class="caption-text">Shell Escape for gnuplot</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="install-latex-packages">
<span id="index-10"></span><span id="index-9"></span><span id="index-8"></span><span id="id2"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">Install LaTeX Packages</a><a class="headerlink" href="#install-latex-packages" title="Link to this heading"></a></h2>
<p>You can install LaTeX packages in your project:</p>
<ol class="arabic simple">
<li><p>Open a <a class="reference internal" href="terminal.html"><span class="doc">Linux Terminal</span></a></p></li>
<li><p>Check by running <code class="docutils literal notranslate"><span class="pre">kpsewhich</span> <span class="pre">-var-value</span> <span class="pre">TEXMFHOME</span></code> where you can install packages locally. It should tell you <code class="docutils literal notranslate"><span class="pre">/home/user/texmf</span></code>.</p></li>
<li><p>Create the target directory based on the name of the package. E.g. if the package is called <code class="docutils literal notranslate"><span class="pre">webquiz</span></code>, run <code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">-p</span> <span class="pre">/home/user/texmf/tex/latex/webquiz</span></code>.</p></li>
<li><p>Change your current directory to this one via <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">/home/user/texmf/tex/latex/webquiz</span></code>.</p></li>
<li><p>Either download the package via <code class="docutils literal notranslate"><span class="pre">wget</span> <span class="pre">...</span></code> from CRAN and extract it via <code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">xf</span> <span class="pre">&lt;downloaded</span> <span class="pre">tarball&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">unzip</span> <span class="pre">...</span></code>. Alternatively, run <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">.</span></code> to open this path in CoCalc’s file explorer and use it to <a class="reference internal" href="howto/upload.html#upload-files"><span class="std std-ref">upload</span></a> the style files there.</p></li>
</ol>
<p>In any case, all files like <code class="docutils literal notranslate"><span class="pre">*.sty</span></code> and <code class="docutils literal notranslate"><span class="pre">*.cls</span></code> in that directory will be picked up when you load that package.
You can confirm that by searching for the style file, e.g. run <code class="docutils literal notranslate"><span class="pre">kpsewhich</span> <span class="pre">[name.sty]</span></code>
and you should get a location like <code class="docutils literal notranslate"><span class="pre">/home/user/texmf/tex/latex/.../[name.sty]</span></code>.</p>
<p><strong>Note</strong> In case you use a zip file, place it in <code class="docutils literal notranslate"><span class="pre">/home/user/texmf</span></code> and run <code class="docutils literal notranslate"><span class="pre">unzip</span> <span class="pre">[filename.zip]</span></code> (or if there are already files, <code class="docutils literal notranslate"><span class="pre">unzip</span> <span class="pre">-o</span> <span class="pre">[filename.zip]</span></code> overwrites what’s there).
It should extract into the correct subdirectories, in particular <code class="docutils literal notranslate"><span class="pre">./tex/latex</span></code> etc.</p>
</section>
<section id="use-your-own-styles">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Use Your Own Styles</a><a class="headerlink" href="#use-your-own-styles" title="Link to this heading"></a></h2>
<p>If you want to make your custom style files available to all your <code class="docutils literal notranslate"><span class="pre">.tex</span></code> files (in a single project),
you have to put them into the <code class="docutils literal notranslate"><span class="pre">~/texmf/tex/latex/local</span></code> sub-directory. See <a class="reference external" href="https://tex.stackexchange.com/questions/1137/where-do-i-place-my-own-sty-or-cls-files-to-make-them-available-to-all-my-te">this StackExchange discussion</a> for more technical details.</p>
</section>
<section id="include-an-image">
<span id="index-11"></span><h2><a class="toc-backref" href="#id11" role="doc-backlink">Include an Image</a><a class="headerlink" href="#include-an-image" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Upload a PNG or PDF file via CoCalc’s “Files” interface.
The uploaded image should be in the same directory as the <code class="docutils literal notranslate"><span class="pre">.tex</span></code> file
Otherwise, use relative paths like <code class="docutils literal notranslate"><span class="pre">./images/filename.png</span></code> if it is in a subdirectory <code class="docutils literal notranslate"><span class="pre">images</span></code>.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">\usepackage{graphicx}</span></code> to the preamble of your file, i.e. before <code class="docutils literal notranslate"><span class="pre">\being{document</span></code>.</p></li>
<li><p>At the place where you want the image, insert a <code class="docutils literal notranslate"><span class="pre">figure</span></code> environment.
Use <code class="docutils literal notranslate"><span class="pre">includegraphics</span></code> to include the file, with <code class="docutils literal notranslate"><span class="pre">width</span></code> to indicate image width, e.g. use <code class="docutils literal notranslate"><span class="pre">0.9</span></code> to take up 90% of document width.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">\centering</span></code> to have your image and caption centered in the document, and use <code class="docutils literal notranslate"><span class="pre">caption</span></code> to add a caption.</p></li>
</ol>
<p>Here’s the complete example:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="k">\usepackage</span><span class="nb">{</span>graphicx<span class="nb">}</span>
...
<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
...
<span class="k">\begin</span><span class="nb">{</span>figure<span class="nb">}</span>
<span class="k">\centering</span>
<span class="k">\includegraphics</span><span class="na">[width=0.9\textwidth]</span><span class="nb">{</span>./images/filename.png<span class="nb">}</span>
<span class="k">\caption</span><span class="nb">{</span>here is a picture<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>figure<span class="nb">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>There are many more options for image placement. See for example the Wikibooks LaTeX book section on
<a class="reference external" href="https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions">Floats, Figures and Captions</a>.</p></li>
</ol>
</section>
<section id="draw-with-asymptote">
<span id="index-13"></span><span id="index-12"></span><h2><a class="toc-backref" href="#id12" role="doc-backlink">Draw With Asymptote</a><a class="headerlink" href="#draw-with-asymptote" title="Link to this heading"></a></h2>
<p><a class="reference external" href="http://asymptote.sourceforge.net/">Asymptote</a> is a</p>
<blockquote>
<div><p>powerful descriptive vector graphics language
that provides a natural coordinate-based framework for technical drawing.
Labels and equations are typeset with LaTeX, for high-quality PostScript output.</p>
</div></blockquote>
<p>In order to tell <a class="reference external" href="https://www.ctan.org/pkg/latexmk/">LatexMK</a>
– which CoCalc’s LaTeX editor is using by default under the hood –
to process the generated <code class="docutils literal notranslate"><span class="pre">*.asy</span></code> files,
you need to setup your <code class="docutils literal notranslate"><span class="pre">~/.latexmkrc</span></code> file in your home directory.
In order to do that, open up the File Explorer in your project
and click on the home-icon to make sure you’re in your home directory.
Then, click on <strong>Create</strong> to create a new file and enter the filename <code class="docutils literal notranslate"><span class="pre">.latexmkrc</span></code>.
Don’t overlook that leading dot in the filename, which is used for hidden files in Linux.
Then, enter these lines in the text editor and save the file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sub asy {return system(&quot;asy \&quot;$_[0]\&quot;&quot;);}
add_cus_dep(&quot;asy&quot;,&quot;eps&quot;,0,&quot;asy&quot;);
add_cus_dep(&quot;asy&quot;,&quot;pdf&quot;,0,&quot;asy&quot;);
add_cus_dep(&quot;asy&quot;,&quot;tex&quot;,0,&quot;asy&quot;);
</pre></div>
</div>
<p>These additional rules tell LatexMK to essentially run <code class="docutils literal notranslate"><span class="pre">asy</span> <span class="pre">&lt;basename&gt;-*.asy</span></code>
on each file during the build process.
In case there are problems, you can run that command in a <a class="reference internal" href="terminal.html"><span class="doc">Linux Terminal</span></a>
to see all details about any possible errors.</p>
<p>More information: <a class="reference external" href="http://asymptote.sourceforge.net/doc/LaTeX-usage.html">Asymptote LaTeX Usage</a>.</p>
<a class="reference internal image-reference" href="_images/latex-asymptote.png"><img alt="latex with asymptote" src="_images/latex-asymptote.png" style="width: 100%;" />
</a>
</section>
<section id="use-pstricks-macros">
<span id="index-15"></span><span id="index-14"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink">Use PSTricks Macros</a><a class="headerlink" href="#use-pstricks-macros" title="Link to this heading"></a></h2>
<p><a class="reference external" href="http://tug.org/PSTricks/main.cgi">PSTricks</a> is a set of macros for including PostScript drawings in a TeX document. The website has an extensive <a class="reference external" href="http://tug.org/PSTricks/main.cgi?file=examples">gallery of examples</a>.
The main thing to remember when using PSTricks is to set <code class="docutils literal notranslate"><span class="pre">Engine</span></code> in the CoCalc Build panel to <code class="docutils literal notranslate"><span class="pre">XeLaTeX</span></code> as in this small demo <a class="reference external" href="https://cocalc.com/share/db982efa-e439-4e2d-933b-7c7011c6b21a/Public/pstricks-demo.tex?viewer=share">.tex file</a> and <a class="reference external" href="https://cocalc.com/share/db982efa-e439-4e2d-933b-7c7011c6b21a/Public/pstricks-demo.pdf?viewer=share">resulting .pdf</a>.</p>
<a class="reference internal image-reference" href="_images/latex-pstricks-demo3.png"><img alt="pstricks demo part 1" class="align-center" src="_images/latex-pstricks-demo3.png" style="width: 40%;" />
</a>
<a class="reference internal image-reference" href="_images/latex-pstricks-demo4.png"><img alt="pstricks demo part 2" class="align-center" src="_images/latex-pstricks-demo4.png" style="width: 40%;" />
</a>
</section>
<section id="word-count">
<span id="latex-word-count"></span><span id="index-16"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink">Word Count</a><a class="headerlink" href="#word-count" title="Link to this heading"></a></h2>
<p>CoCalc can show you current word count statistics generated by <a class="reference external" href="http://app.uio.no/ifi/texcount/whatitdoes.html">texcount</a>. To see them go to the <strong>Stats</strong> tab of the output panel.</p>
</section>
<section id="encoding">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Encoding</a><a class="headerlink" href="#encoding" title="Link to this heading"></a></h2>
<p>All edited documents are assumed to be encoded as UTF-8 and modern LaTeX may work without explicitly specifying it, but some packages still require it. Depending on your build engine, the following encoding definitions are a good start:</p>
<ul>
<li><p>PDFLaTeX:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
</pre></div>
</div>
</li>
<li><p>XeLaTeX or LuaTeX:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>\usepackage{fontspec}
</pre></div>
</div>
</li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="latex.html" class="btn btn-neutral float-left" title="LaTeX Editor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="terminal.html" class="btn btn-neutral float-right" title="Linux Terminal" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Sagemath, Inc., CC BY-4.0 licensed.</p>
  </div>

  

<div role="contentinfo">
  <p>
    Please contact us for <a href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!">Questions and Feedback</a>,
    <a href="https://github.com/sagemathinc/cocalc-doc/">Documentation Repository</a>,
    <a href="https://cocalc.com/policies/">Privacy Policy and ToS</a>.
   </p>
   <p>
    <a href="https://github.com/sagemathinc/cocalc-doc/edit/master/source/latex-tips-and-tricks.rst" class="fa fa-github"> Edit this page on GitHub</a>
  </p>
  <p>
    <strong><a href="https://cocalc.com/app">Start CoCalc</a></strong> – start free, upgrade later!
  </p>
</div>


</footer>
        </div>

      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <a class="github cocalcbanner" href="https://cocalc.com/app?anonymous=true">
     <img alt="Start CoCalc"
          class="github"
          src="_static/start-cocalc.png"
          style="position: fixed; top: 0; right: 0; border: 0; height: 75px; width: 75px">
  </a>


</body>
</html>
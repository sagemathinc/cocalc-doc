


<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sage Worksheets &mdash; CoCalc Manual  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon-32x32.png"/>
  
  
  
    <link rel="canonical" href="https://doc.cocalc.com/sagews.html"/>
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-34321400-6"></script>
        <script type="text/javascript" src="_static/google_analytics_tracker.js"></script>
        <script type="text/javascript" src="https://cocalc.com/analytics.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Linux Terminal" href="terminal.html" />
    <link rel="prev" title="Import from Overleaf/Sharelatex" href="howto/overleaf.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://doc.cocalc.com/sagews.html"/>
  

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="index.html" class="icon icon-home"> CoCalc Manual
  <img src="_static/cocalc-doc-logo.svg" class="logo" alt="Logo"/>
</a>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">What is CoCalc?</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="trial.html">Trial Projects</a></li>
</ul>
<p class="caption"><span class="caption-text">Teaching</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="teaching-instructors.html">Instructor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="teaching-students.html">Student Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="teaching-notes.html">Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Features</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="jupyter.html">Jupyter Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex.html">LaTeX Editor</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Sage Worksheets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-a-sage-worksheet">What’s a Sage Worksheet?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-revert-undo-changes-in-a-sage-worksheet">How to Revert/Undo Changes in a Sage Worksheet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#timetravel">TimeTravel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#backups-snapshots">Backups (snapshots)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#understanding-error-messages">Understanding Error Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#help-for-programmers">Help for Programmers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#extended-documentation">Extended Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#concise-documentation">Concise Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#source-code">Source Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tab-completion">Tab Completion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sage-worksheet-slow-when-plotting-disable-svg">Sage Worksheet Slow When Plotting? Disable svg.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-long-are-definitions-stored-in-a-sage-worksheet">How Long are Definitions Stored in a Sage Worksheet?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wiki-resources">Wiki resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sagews-wiki">Sage Worksheets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conversion-utilities">Conversion utilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#help-about-sagemath">Help about SageMath</a></li>
<li class="toctree-l2"><a class="reference internal" href="#howto">Howto</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#attach-sage-files-to-sage-worksheets">Attach Sage files to Sage Worksheets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-can-i-connect-an-html-form-with-my-python-code">How can I connect an HTML form with my Python code?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-can-i-play-sounds">How can I play sounds?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="terminal.html">Linux Terminal</a></li>
<li class="toctree-l1"><a class="reference internal" href="x11.html">Graphical Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="chat.html">Chatrooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasks.html">Task Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="frame-editor.html">Frame Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="time-travel.html">Time Travel</a></li>
<li class="toctree-l1"><a class="reference internal" href="snippets.html">Snippets</a></li>
<li class="toctree-l1"><a class="reference internal" href="share.html">Sharing Files</a></li>
</ul>
<p class="caption"><span class="caption-text">Platform</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="project.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="billing.html">Billing/Upgrades FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="software.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipad.html">iPad</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/index.html">Howto</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/trouble.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker-image.html">CoCalc Docker Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="cocalc-desktop.html">CoCalc Desktop</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
  <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
  <a href="index.html">CoCalc Manual</a>

      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="contents.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Sage Worksheets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/sagemathinc/cocalc-doc/edit/master/source/sagews.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sage-worksheets">
<span id="sage-worksheet"></span><span id="index-0"></span><h1>Sage Worksheets<a class="headerlink" href="#sage-worksheets" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id6">Introduction</a></li>
<li><a class="reference internal" href="#what-s-a-sage-worksheet" id="id7">What’s a Sage Worksheet?</a></li>
<li><a class="reference internal" href="#how-to-revert-undo-changes-in-a-sage-worksheet" id="id8">How to Revert/Undo Changes in a Sage Worksheet</a><ul>
<li><a class="reference internal" href="#timetravel" id="id9">TimeTravel</a></li>
<li><a class="reference internal" href="#backups-snapshots" id="id10">Backups (snapshots)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#understanding-error-messages" id="id11">Understanding Error Messages</a></li>
<li><a class="reference internal" href="#help-for-programmers" id="id12">Help for Programmers</a><ul>
<li><a class="reference internal" href="#extended-documentation" id="id13">Extended Documentation</a></li>
<li><a class="reference internal" href="#concise-documentation" id="id14">Concise Documentation</a></li>
<li><a class="reference internal" href="#source-code" id="id15">Source Code</a></li>
<li><a class="reference internal" href="#tab-completion" id="id16">Tab Completion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage-worksheet-slow-when-plotting-disable-svg" id="id17">Sage Worksheet Slow When Plotting? Disable svg.</a></li>
<li><a class="reference internal" href="#how-long-are-definitions-stored-in-a-sage-worksheet" id="id18">How Long are Definitions Stored in a Sage Worksheet?</a></li>
<li><a class="reference internal" href="#wiki-resources" id="id19">Wiki resources</a><ul>
<li><a class="reference internal" href="#sagews-wiki" id="id20">Sage Worksheets</a></li>
<li><a class="reference internal" href="#conversion-utilities" id="id21">Conversion utilities</a></li>
</ul>
</li>
<li><a class="reference internal" href="#help-about-sagemath" id="id22">Help about SageMath</a></li>
<li><a class="reference internal" href="#howto" id="id23">Howto</a><ul>
<li><a class="reference internal" href="#attach-sage-files-to-sage-worksheets" id="id24">Attach Sage files to Sage Worksheets</a></li>
<li><a class="reference internal" href="#how-can-i-connect-an-html-form-with-my-python-code" id="id25">How can I connect an HTML form with my Python code?</a></li>
<li><a class="reference internal" href="#how-can-i-play-sounds" id="id26">How can I play sounds?</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id6">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Sage Worksheets were developed for collaborative, notebook-style computing with <a class="reference external" href="https://www.sagemath.org">SageMath</a> on the <a class="reference external" href="https://cocalc.com">CoCalc</a> platform. Like Jupyter Notebooks, Sage Worksheets support many programming environments. More than one language environment can be used in the same Sage Worksheet.</p>
<p>Note: in the CoCalc User Manual, we will generally use the term <em>SageMath</em> to refer to the <a class="reference external" href="https://www.sagemath.org">open source mathematical system</a> that runs on CoCalc and in many other environments. Elsewhere, you may see it referred to simply as <em>Sage</em>.</p>
<p>In CoCalc, there are at least three ways to run SageMath:</p>
<ul class="simple">
<li>in a Sage Worksheet</li>
<li>in a Jupyter Notebook</li>
<li>from the command line in a terminal</li>
</ul>
</div>
<div class="section" id="what-s-a-sage-worksheet">
<h2><a class="toc-backref" href="#id7">What’s a Sage Worksheet?</a><a class="headerlink" href="#what-s-a-sage-worksheet" title="Permalink to this headline">¶</a></h2>
<p>A Sage Worksheet is a file ending in <code class="docutils literal notranslate"><span class="pre">.sagews</span></code> and is subdivided into cells. Each cell has an input region and an output region, which might be 0, 1, 2, or many lines long. The input can be mathematical, in the Sage syntax, or it could be in many other formats, including <a class="reference external" href="https://daringfireball.net/projects/markdown/syntax">Markdown</a>, HTML, Python 2 or 3, and R.</p>
<p>When you <em>run</em> a cell, by clicking <code class="docutils literal notranslate"><span class="pre">Run</span></code> or typing <code class="docutils literal notranslate"><span class="pre">Shift-Enter</span></code>, the input is executed (or formatted, for text processing). The result appears in the output after the calculation is done.</p>
<p>To begin work on a Sage Worksheet, create a file ending with <code class="docutils literal notranslate"><span class="pre">.sagews</span></code>.</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="_images/sagews-example.png"><img alt="_images/sagews-example.png" src="_images/sagews-example.png" style="width: 90%;" /></a>
<p class="caption"><span class="caption-text"><em>example of a Sage Worksheet</em></span></p>
</div>
</div>
<div class="section" id="how-to-revert-undo-changes-in-a-sage-worksheet">
<h2><a class="toc-backref" href="#id8">How to Revert/Undo Changes in a Sage Worksheet</a><a class="headerlink" href="#how-to-revert-undo-changes-in-a-sage-worksheet" title="Permalink to this headline">¶</a></h2>
<p>For tiny changes, control+Z (or command+Z on a mac) will give you an instantaneous undo.</p>
<p>When it comes to undoing larger changes, one of the most useful things about CoCalc is that it will keep all versions of all of your files. This means that you can revert back to previous versions easily.</p>
<div class="section" id="timetravel">
<span id="index-1"></span><h3><a class="toc-backref" href="#id9">TimeTravel</a><a class="headerlink" href="#timetravel" title="Permalink to this headline">¶</a></h3>
<p>From any worksheet, click on TimeTravel.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/sagews-example-tt.png"><img alt="_images/sagews-example-tt.png" src="_images/sagews-example-tt.png" style="width: 30%;" /></a>
</div>
<p>Using the slider, look at all the versions. Find the revision that you want and then click “Revert live version to this.”</p>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/sagews-timetravel-a.png"><img alt="_images/sagews-timetravel-a.png" src="_images/sagews-timetravel-a.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text"><em>looking at a Sage Worksheet with TimeTravel</em></span></p>
</div>
</div>
<div class="section" id="backups-snapshots">
<span id="index-2"></span><h3><a class="toc-backref" href="#id10">Backups (snapshots)</a><a class="headerlink" href="#backups-snapshots" title="Permalink to this headline">¶</a></h3>
<p>For a list of snapshots taken by CoCalc, use the <code class="docutils literal notranslate"><span class="pre">Backups</span></code> button from the TimeTravel view or the Files list. Note that these backups are read-only. If you want to continue working on a file from a snapshot in Backups, you will need to copy it into a writable folder in your project.</p>
</div>
</div>
<div class="section" id="understanding-error-messages">
<h2><a class="toc-backref" href="#id11">Understanding Error Messages</a><a class="headerlink" href="#understanding-error-messages" title="Permalink to this headline">¶</a></h2>
<p><em>Question: I did xyz and now I have this huge error message! Why?</em></p>
<p>Often when SageMath encounters an error, a long error message appears. This output is called a “stack trace” and it can be very useful to experienced programmers. However, often it is enough to <strong>look at the last line of the error message</strong> to understand what has gone wrong.</p>
<div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="_images/sagews-stacktrace.png"><img alt="_images/sagews-stacktrace.png" src="_images/sagews-stacktrace.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text"><em>making sense of error messages</em></span></p>
</div>
</div>
<div class="section" id="help-for-programmers">
<h2><a class="toc-backref" href="#id12">Help for Programmers</a><a class="headerlink" href="#help-for-programmers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="extended-documentation">
<h3><a class="toc-backref" href="#id13">Extended Documentation</a><a class="headerlink" href="#extended-documentation" title="Permalink to this headline">¶</a></h3>
<p>To see verbose documentation for language features, including commands, methods, and attributes, use the <code class="docutils literal notranslate"><span class="pre">help()</span></code> function.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/sagews-help.png"><img alt="_images/sagews-help.png" src="_images/sagews-help.png" style="width: 70%;" /></a>
</div>
</div>
<div class="section" id="concise-documentation">
<h3><a class="toc-backref" href="#id14">Concise Documentation</a><a class="headerlink" href="#concise-documentation" title="Permalink to this headline">¶</a></h3>
<p>To see concise documentation (docstrings) for language features, attributes, append a single question mark and run the cell. This information is similar to what you get with <code class="docutils literal notranslate"><span class="pre">help()</span></code>.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/sagews-1q.png"><img alt="_images/sagews-1q.png" src="_images/sagews-1q.png" style="width: 70%;" /></a>
</div>
</div>
<div class="section" id="source-code">
<h3><a class="toc-backref" href="#id15">Source Code</a><a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h3>
<p>To see source code for language features, append two question marks and run the cell.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/sagews-2q.png"><img alt="_images/sagews-2q.png" src="_images/sagews-2q.png" style="width: 70%;" /></a>
</div>
</div>
<div class="section" id="tab-completion">
<h3><a class="toc-backref" href="#id16">Tab Completion</a><a class="headerlink" href="#tab-completion" title="Permalink to this headline">¶</a></h3>
<p>To get a hint for possible completions of a function name, method argument, etc., type the beginning of what you are looking for then press the <code class="docutils literal notranslate"><span class="pre">[tab]</span></code> key. This is a quick way to browse through the methods for an object.</p>
<div class="figure align-center" id="id5">
<a class="reference internal image-reference" href="_images/tabcomplete.png"><img alt="_images/tabcomplete.png" src="_images/tabcomplete.png" style="width: 40%;" /></a>
<p class="caption"><span class="caption-text">ways to solve <a class="reference external" href="http://doc.sagemath.org/html/en/reference/calculus/sage/calculus/desolvers.html">differential equations in SageMath</a></span></p>
</div>
<span class="target" id="index-3"></span></div>
</div>
<div class="section" id="sage-worksheet-slow-when-plotting-disable-svg">
<span id="index-4"></span><h2><a class="toc-backref" href="#id17">Sage Worksheet Slow When Plotting? Disable svg.</a><a class="headerlink" href="#sage-worksheet-slow-when-plotting-disable-svg" title="Permalink to this headline">¶</a></h2>
<p>Plots can generate a large number of points. The default display format for plots is <code class="docutils literal notranslate"><span class="pre">svg</span></code>, which gives excellent detail, but consumes an amount of memory proportional to the number of points and can markedly slow down worksheet performance.</p>
<p>You can efficiently display plots with as many points as you want if you use <code class="docutils literal notranslate"><span class="pre">show()</span></code> with an option of <code class="docutils literal notranslate"><span class="pre">svg=False</span></code>, for example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>show(plot(sin(x^2),(x,0,10)),svg=False)
</pre></div>
</div>
<p>This approach also works with <code class="docutils literal notranslate"><span class="pre">list_plot()</span></code>. There’s no way at present to default to svg disabled. You must use the setting with each plot.</p>
</div>
<div class="section" id="how-long-are-definitions-stored-in-a-sage-worksheet">
<span id="index-5"></span><h2><a class="toc-backref" href="#id18">How Long are Definitions Stored in a Sage Worksheet?</a><a class="headerlink" href="#how-long-are-definitions-stored-in-a-sage-worksheet" title="Permalink to this headline">¶</a></h2>
<p>Definitions (of variables, functions, etc.) are stored in the worksheet process and are retained until that process terminates. The worksheet process may end by itself, for example when <code class="docutils literal notranslate"><span class="pre">Restart</span></code> is clicked at the top of the worksheet. It is also terminated when the sage worksheet server terminates or is restarted, when the project is stopped or restarted, and when the host virtual machine restarts.</p>
<p>Projects are stopped after some number of hours of non-interactive use (see <a class="reference internal" href="howto/software-development.html#idle-timeout"><span class="std std-ref">Idle Timeout</span></a>). If your project is on a free server, it will be stopped whenever the Google pre-emptible server instance restarts, typically once per 24 hours.</p>
<p>SageMath built-in functions <code class="docutils literal notranslate"><span class="pre">save</span></code>, <code class="docutils literal notranslate"><span class="pre">load</span></code>, <code class="docutils literal notranslate"><span class="pre">save_session</span></code> and <code class="docutils literal notranslate"><span class="pre">load_session</span></code> are useful for saving and restoring state. See <a class="reference external" href="http://doc.sagemath.org/html/en/reference/misc/sage/misc/session.html">Loading and saving sessions and listing all variables</a>.</p>
</div>
<div class="section" id="wiki-resources">
<h2><a class="toc-backref" href="#id19">Wiki resources</a><a class="headerlink" href="#wiki-resources" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sagews-wiki">
<span id="id1"></span><h3><a class="toc-backref" href="#id20">Sage Worksheets</a><a class="headerlink" href="#sagews-wiki" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>A previous version of this page is at <a class="reference external" href="https://github.com/sagemathinc/cocalc/wiki/sagews">Sage Worksheet UI and Help</a></li>
<li><a class="reference external" href="https://github.com/sagemathinc/cocalc/wiki/sagews-custom-modes">Custom “Mode Commands” in Sage Worksheets</a></li>
<li><a class="reference external" href="https://github.com/sagemathinc/cocalc/search?utf8=%E2%9C%93&amp;q=&amp;type=Wikis">Search the CoCalc wiki</a> Enter your search text in the “Search or jump to…” blank at the top.</li>
</ul>
</div>
<div class="section" id="conversion-utilities">
<h3><a class="toc-backref" href="#id21">Conversion utilities</a><a class="headerlink" href="#conversion-utilities" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>There are buttons in the UI to convert to PDF, a print-button or a Jupyter Notebook</li>
<li><a class="reference external" href="https://github.com/sagemathinc/cocalc/wiki/sagews2html">SageWS to HTML</a> (including a utility to extract the sagews file from a generated HTML file)</li>
<li>Run <code class="docutils literal notranslate"><span class="pre">cc-sagews2pdf</span> <span class="pre">--help</span></code> in a <a class="reference internal" href="terminal.html"><span class="doc">Linux Terminal</span></a> for more information about converting to PDF</li>
<li>Similarly, <code class="docutils literal notranslate"><span class="pre">cc-sagews2ipynb</span></code> is a command-line utility to convert Sage worksheet to Jupyter notebook, and <code class="docutils literal notranslate"><span class="pre">cc-ipynb2sagews</span></code> does the reverse conversion, from Jupyter notebook to Sage worksheet.</li>
</ul>
</div>
</div>
<div class="section" id="help-about-sagemath">
<h2><a class="toc-backref" href="#id22">Help about SageMath</a><a class="headerlink" href="#help-about-sagemath" title="Permalink to this headline">¶</a></h2>
<p>Items relating strictly to SageMath, whether or not you are using CoCalc.</p>
<ul class="simple">
<li><strong>Quickstart:</strong> read the <a class="reference external" href="https://doc.sagemath.org/html/en/">documentation</a>, in particular the <a class="reference external" href="https://doc.sagemath.org/html/en/tutorial/index.html">Tutorial</a>.</li>
<li><a class="reference external" href="https://github.com/sagemathinc/cocalc/wiki/MathematicalSyntaxErrors">The Top Mathematical Syntax Errors in Sage</a></li>
<li><a class="reference internal" href="howto/sage-question.html#sage-question"><span class="std std-ref">Questions about Sage</span></a> – how to get help working with Sage.</li>
<li><a class="reference external" href="https://github.com/sagemathinc/cocalc/wiki/SageBug">Sage Bugreport</a> – I am using Sage and think I have found a bug</li>
</ul>
</div>
<div class="section" id="howto">
<h2><a class="toc-backref" href="#id23">Howto</a><a class="headerlink" href="#howto" title="Permalink to this headline">¶</a></h2>
<div class="section" id="attach-sage-files-to-sage-worksheets">
<span id="attach-sage-files"></span><span id="index-6"></span><h3><a class="toc-backref" href="#id24">Attach Sage files to Sage Worksheets</a><a class="headerlink" href="#attach-sage-files-to-sage-worksheets" title="Permalink to this headline">¶</a></h3>
<p><strong>Is there a way to write functions in one worksheet, and then import them to another and use them there?</strong></p>
<p>Not exactly, but you can write code in a <code class="docutils literal notranslate"><span class="pre">.sage</span></code> file and then load it into another Sage Worksheet as illustrated at
<a class="reference external" href="https://cocalc.com/share/4a5f0542-5873-4eed-a85c-a18c706e8bcd/support/2018-06-12-sage-code/?viewer=share">https://cocalc.com/share/4a5f0542-5873-4eed-a85c-a18c706e8bcd/support/2018-06-12-sage-code/?viewer=share</a></p>
<ol class="arabic simple">
<li>Put code in a new file with extension <code class="docutils literal notranslate"><span class="pre">.sage</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">code.sage</span></code></li>
<li>In a Sage worksheet or the terminal, run this: <code class="docutils literal notranslate"><span class="pre">%attach</span> <span class="pre">code.sage</span></code> or <code class="docutils literal notranslate"><span class="pre">attach(&quot;code.sage&quot;)</span></code></li>
<li>Now all code in <code class="docutils literal notranslate"><span class="pre">code.sage</span></code> is available in your worksheet, and whenever it changes, it will get reloaded automatically.</li>
<li>If you’re using Jupyter, this is all broken (see <a class="reference external" href="https://github.com/sagemathinc/cocalc/issues/2916">https://github.com/sagemathinc/cocalc/issues/2916</a>), but at least you can use <code class="docutils literal notranslate"><span class="pre">load(&quot;code.sage&quot;)</span></code> instead.</li>
</ol>
</div>
<div class="section" id="how-can-i-connect-an-html-form-with-my-python-code">
<h3><a class="toc-backref" href="#id25">How can I connect an HTML form with my Python code?</a><a class="headerlink" href="#how-can-i-connect-an-html-form-with-my-python-code" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following explanation might be outdated!</p>
</div>
<p>To create a connection between your HTML form in a .sagews file created using HTML, CSS and JS, you need to use the <code class="docutils literal notranslate"><span class="pre">worksheet.execute_code()</span></code> function in your JS code.</p>
<p>Because <code class="docutils literal notranslate"><span class="pre">worksheet.execute_code</span></code> isn’t a standard JS function, but special CoCalc function, you need to load your JS code with <code class="docutils literal notranslate"><span class="pre">worksheet.execute_code()</span></code>.  In particular do NOT use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>load(&#39;path/to/js/code.js&#39;)
</pre></div>
</div>
<p>but instead use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>salvus.javascript(open(&#39;path/to/js/code.js&#39;).read())
</pre></div>
</div>
<p>For example in a <code class="docutils literal notranslate"><span class="pre">.sagews</span></code> file suppose you created a div with <code class="docutils literal notranslate"><span class="pre">id='myApp'</span></code> as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%html
&lt;div id=&#39;myApp&#39;&gt;
....
    &lt;div id=&quot;msgLog&quot;&gt;&lt;/div&gt;
    &lt;div id=&quot;msgErr&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</pre></div>
</div>
<p>Let’s say your Python function will double <code class="docutils literal notranslate"><span class="pre">x</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def myfunc(x):
    print(x*2)
</pre></div>
</div>
<p>In your JS code type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>worksheet.execute_code({
    code: &#39;myfunc(n)&#39;,
    data: {n: 2},
    preparse: true,
    cb: function(msg){
            if(msg.stdout){$(&#39;#myApp #msgLog&#39;).html(msg.stdout);}
            if(msg.stderr){$(&#39;#myApp #msgErr&#39;).html(msg.stderr);}
    }
});
</pre></div>
</div>
<p>Please note that <code class="docutils literal notranslate"><span class="pre">myfunc()</span></code> doesn’t <code class="docutils literal notranslate"><span class="pre">return</span></code> anything.
On the contrary, it uses <code class="docutils literal notranslate"><span class="pre">print()</span></code> to send output. This is because JS and python are different languages, and you can’t just use <code class="docutils literal notranslate"><span class="pre">return</span></code> in your Python function to return some answer. <code class="docutils literal notranslate"><span class="pre">stdout</span></code> in JS code means standard output stream.
That is, the <code class="docutils literal notranslate"><span class="pre">print</span></code> function in your Python code places the result of <code class="docutils literal notranslate"><span class="pre">myfunc()</span></code> in the output stream.
That’s why you need to use <code class="docutils literal notranslate"><span class="pre">print()</span></code> but not <code class="docutils literal notranslate"><span class="pre">return()</span></code> in your Python code.</p>
<p>Also, if your Python code will raise some exception,
then it will result in output to <code class="docutils literal notranslate"><span class="pre">stderr</span></code> the standard error stream.
If you JS code (as in the example above) catches stderr,
you can get any error message from your Python code.</p>
</div>
<div class="section" id="how-can-i-play-sounds">
<h3><a class="toc-backref" href="#id26">How can I play sounds?</a><a class="headerlink" href="#how-can-i-play-sounds" title="Permalink to this headline">¶</a></h3>
<p>CoCalc runs on a remote machine in the cloud.
To make a wav, mp3 or ogg file play on your computer, it must travel from the cloud to your browser.
That’s done by first saving the waveform to a file in CoCalc and then downloading it into the website inside an <a class="reference external" href="https://developer.mozilla.org/de/docs/Web/HTML/Using_HTML5_audio_and_video">HTML5 audio tag</a>.</p>
<ol class="arabic simple">
<li>Run the code below to render a waveform to a file using <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.io.wavfile.write.html">scipy.io.wavfile.write</a>:</li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.io.wavfile</span> <span class="kn">import</span> <span class="n">write</span> <span class="k">as</span> <span class="n">write_wav</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="c1"># Samples per second</span>
<span class="n">sps</span> <span class="o">=</span> <span class="mi">22050</span>
<span class="c1"># Frequency / pitch of the sine wave</span>
<span class="n">freq_hz</span> <span class="o">=</span> <span class="mi">440</span>

<span class="c1"># Duration per segment</span>
<span class="n">duration_s</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">duration_s</span> <span class="o">*</span> <span class="n">sps</span><span class="p">)</span>  <span class="o">/</span> <span class="n">sps</span>
<span class="n">yy</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">yy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">xx</span> <span class="o">*</span> <span class="n">freq_hz</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mf">0.2</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="mf">5.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">xx</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">+</span> <span class="n">freq_hz</span><span class="p">)))</span>
<span class="n">yy</span> <span class="o">=</span> <span class="mf">0.3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">yy</span><span class="p">)</span> <span class="c1"># 0.3 adjusts volume</span>
<span class="n">yy16bit</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">(</span><span class="n">yy</span> <span class="o">*</span> <span class="mi">32767</span><span class="p">)</span>

<span class="c1"># Write the .wav file</span>
<span class="n">write_wav</span><span class="p">(</span><span class="s1">&#39;sound.wav&#39;</span><span class="p">,</span> <span class="n">sps</span><span class="p">,</span> <span class="n">yy16bit</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p class="first">Put this in a block of code. After evaluating it you’ll see an embedded player:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%md
&lt;audio controls=true src=&quot;sound.wav&quot;/&gt;
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Currently, embedding into HTML5 via a <cite>%md</cite> Markdown cell does not work.
Please check the status of <a class="reference external" href="https://github.com/sagemathinc/cocalc/issues/4240">ticket #4240</a>.</p>
<p class="last">Until it is resolved, run <code class="docutils literal notranslate"><span class="pre">salvus.file('sound.wav')</span></code> and click on the generated link to open the file in a new tab.
Your browser should show you a little player.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="terminal.html" class="btn btn-neutral float-right" title="Linux Terminal" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="howto/overleaf.html" class="btn btn-neutral float-left" title="Import from Overleaf/Sharelatex" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021, Sagemath, Inc., CC BY-4.0 licensed

    </p>
  </div>

<div role="contentinfo">
  <p>
    Please <a href="mailto:help@cocalc.com">contact us</a> for any feedback,
    <a href="https://github.com/sagemathinc/cocalc-doc/">Doc Repository</a>,
    <a href="https://cocalc.com/policies/">Privacy Policy and ToS</a>
  </p>
  <p>
    <strong><a href="https://cocalc.com/app">Start CoCalc</a></strong> – start free, upgrade later!
  </p>
</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-34321400-6', 'auto');
    ga('send', 'pageview');
    </script>

    
  
   
  <a class="github cocalcbanner" href="https://cocalc.com/app?anonymous=true">
     <img alt="Start CoCalc"
          class="github"
          src="_static/start-cocalc.png"
          style="position: fixed; top: 0; right: 0; border: 0; height: 75px; width: 75px">
  </a>


</body>
</html>
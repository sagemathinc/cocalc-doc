


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compute Servers &mdash; CoCalc Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="_static/favicon-32x32.png"/>
    <link rel="canonical" href="https://doc.cocalc.com/teaching-compute-servers.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="https://cocalc.com/analytics.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="After the Course Ends" href="teaching-after-course.html" />
    <link rel="prev" title="Collaboration" href="teaching-interactions.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://doc.cocalc.com/teaching-compute-servers.html"/>
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="index.html" class="icon icon-home"> CoCalc Manual
  <img src="_static/_static/cocalc-doc-logo.svg" class="logo" alt="Logo"/>
</a>

<style>
div.cocalc-header {
  padding: 10px;
  margin-bottom: 10px;
  color: white;
  background-color: #4375c1;
  font-weight: bold;
  text-align: center;
  box-shadow: 1px 4px 4px -1px #4375c1;
  border-radius: 0 0 3px 3px;
}
div.cocalc-header a {
  color: #ddd;
  background-color: transparent;
  text-decoration: none;
}
</style>

<div class="cocalc-header">
  We provide the best real-time collaborative environment for <a href="https://cocalc.com/features/jupyter-notebook">Jupyter</a>, <a href="https://cocalc.com/features/latex-editor">LaTeX</a>, and <a href="https://cocalc.com/features/jupyter-notebook">SageMath</a>!
</div>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="core_applications.html">Core Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="signature_features.html">Signature Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_capabilities.html">Advanced Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_interface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_options.html">Service Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/index.html">How-tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Essential Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="teaching-instructors.html">Instructor Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="teaching-overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-create-course.html">Creating a New Course</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-upgrade-course.html">Licensing Student Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="restrict-student-projects.html">Restrict Student Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-add-students.html">Add Students to the Course</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-add-students.html#student-projects">Student Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-course-management.html">Assignments and Handouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-interactions.html">Collaboration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Compute Servers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#availability">Availability</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disk-cost">Disk Cost</a></li>
<li class="toctree-l3"><a class="reference internal" href="#network-cost">Network Cost</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-compute-servers">Creating Compute Servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiple-servers">Multiple Servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-limits">Setting Limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transferring-ownership">Transferring Ownership</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wrapping-up">Wrapping Up</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="teaching-after-course.html">After the Course Ends</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-nbgrader.html">Using nbgrader</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-peer-grading.html">Peer Grading</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-workshop.html">CoCalc for Short Training Sessions</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto/nbgrader.html">nbgrader for R</a></li>
<li class="toctree-l2"><a class="reference internal" href="teaching-tips_and_tricks.html">FAQ, Tips and Tricks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="teaching-students.html">Student Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/trouble.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
  <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
  <a href="index.html">CoCalc Manual</a>

      </nav>

      <div class="wy-nav-content">

        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="teaching-instructors.html">Instructor Guide</a></li>
      <li class="breadcrumb-item active">Compute Servers</li>
<li class="wy-breadcrumbs-aside" style="padding: 0;">
  <a
    class="fa fa-question-circle"
    href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!"
    style="background-color: #daeefb; color: black; border: 3px solid #2980b9; padding: 2px 5px; border-radius: 4px;"
  >
    Ask us a Question!
  </a>
</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="compute-servers">
<span id="teaching-with-compute-servers"></span><h1>Compute Servers<a class="headerlink" href="#compute-servers" title="Link to this heading"></a></h1>
<p>Compute servers are a great option to let your students or workshop participants use GPUs or powerful compute resources!</p>
<p>In addition to our general guide on using <a class="reference internal" href="compute_server.html"><span class="doc">Compute Servers</span></a>, below we cover some extra functionality and tips to facilitate their usage while teaching a course or running a workshop.</p>
<p>Some important points to consider ahead of the course start:</p>
<ul class="simple">
<li><p>What configuration do you need for your students?</p></li>
<li><p>Who will pay for running compute servers?</p></li>
<li><p>What are some sensible limits that you can configure to prevent accidental overspending?</p></li>
</ul>
<p>In CoCalc compute server usage for courses is configured via assignments and handouts - you can use the same compute server for several of them or different ones. You can also own the servers and pay for them from your own account, or transfer ownership to students and let them pay for it directly, perhaps after making them even more powerful.</p>
<p>The best way to get a sense of what is possible it to experiment yourself in tandem with this video tutorial by CoCalc’s Founder, CEO, and Lead Developer William Stein:</p>
<center><iframe
    width="640" height="360"
    src="https://www.youtube.com/embed/ikktaiw14Tw?si=6TU6KtZvngRNabUj"
    title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen>
</iframe></center><section id="availability">
<h2>Availability<a class="headerlink" href="#availability" title="Link to this heading"></a></h2>
<p>When you decide what machines to use, keep in mind that you won’t need to start just one of them, but dozens if not hundreds at once - one for each student. With some popular GPUs it may be difficult to reserve the necessary amount and it is impossible to predict in advance. While we are working with our cloud providers to ensure sufficient quotas, it may be a good idea for you to have some “Plan B” - servers with different configuration or in a different region. Also, it may be a good idea to budget for regular compute servers even if you intend to use spot ones. It is impossible to predict how often spot instances will be switched off (or refuse to start at all) while the students are trying to complete their assignment. Anything “more frequent than rarely” is unlikely to be well perceived!</p>
</section>
<section id="disk-cost">
<h2>Disk Cost<a class="headerlink" href="#disk-cost" title="Link to this heading"></a></h2>
<p>Typically, disk cost is a small portion of the overall cost of a compute server. However, if your course is running for several months while students are only using these resources a couple hours per week, the disk cost may become comparable to the cost of CPU, GPU, and RAM. Make sure to consider it in your budget. If it is highly desirable to reduce this cost, consider using slower (and cheaper) disks or deprovisioning compute servers between sessions. In the latter case you will need to install and configure all necessary packages and datasets every time, but it may be quick enough to be feasible.</p>
<p>For example, as of this writing “Standard g2-standard-4 with 1 NVIDIA L4 GPU, 4 vCPUs, 16 GB RAM, and a 125 GB SSD disk in us-central1-b” costs $1.03/hour. Only $0.02/hour is due to the disk, but monthly cost of the disk is $17.50:</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="_images/teaching_cs_disk_cost.png"><img alt="Disk Cost for a Compute Server" src="_images/teaching_cs_disk_cost.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Disk Cost for a Compute Server</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Switching to HDD disk of the same size drops the monthly cost to $7/month. Again, this is only important if you plan to keep the disk for several months. If you can easily install everything you need for every session, then faster SSD disk makes more sense.</p>
</section>
<section id="network-cost">
<h2>Network Cost<a class="headerlink" href="#network-cost" title="Link to this heading"></a></h2>
<p>While the exact amount is hard to predict, network charges for compute servers are typically negligible since downloading content to compute servers is free and in the course setting outgoing traffic is small.</p>
</section>
<section id="creating-compute-servers">
<h2>Creating Compute Servers<a class="headerlink" href="#creating-compute-servers" title="Link to this heading"></a></h2>
<p>Creation of compute servers for students in CoCalc is associated with assignment (although we are considering changing it).</p>
<p>First, create a compute server “as usual” and give it some sensible name - your students will use it as well. If you want to enable <strong>Automatic Shutdown &amp; Health Check</strong> other than Spend Limit, this is the time to do it - later changes will not propagate to students copies:</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="_images/teaching_cs_health_check.png"><img alt="Shutdown Options for a Compute Server" src="_images/teaching_cs_health_check.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Shutdown Options for a Compute Server</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Then go to an assignment (or a handout) which will need to use a compute server and click on <strong>Compute Server…</strong>:</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="_images/teaching_cs_compute_server_button.png"><img alt="Configuring Compute Server for an Assignment" src="_images/teaching_cs_compute_server_button.png" style="width: 90%;" />
</a>
<figcaption>
<p><span class="caption-text">Configuring Compute Server for an Assignment</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Select your compute server that you want to clone, then create one for each student - either one by one or using <strong>Check All</strong> and <strong>Create</strong>. This step creates only configuration of compute servers and is still completely free. The resulting servers are all owned by you and have collaborator control enabled - your students will be able to start, use, and stop them. If you prefer your students to be fully responsible for their servers (mostly importantly - they will have to pay for their use), <a class="reference internal" href="#transfer-server-to-student"><span class="std std-ref">transfer ownership</span></a> to them.</p>
<p>Clicking <strong>Start</strong> would allocate resources for each student and can take some time. Once done, you will see that all servers are running.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When compute servers are created for students, they share the same configuration as yours, but have a new disk starting with the image you have selected.</p>
</div>
<p>If you need to perform some manual configuration in students servers, you have to either provide instructions on how to do it or write a non-interactive script and execute it on all servers using <strong>Terminal</strong> button:</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="_images/teaching_cs_terminal.png"><img alt="Terminal Command on All Compute Servers" src="_images/teaching_cs_terminal.png" style="width: 90%;" />
</a>
<figcaption>
<p><span class="caption-text">Terminal Command on All Compute Servers</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="multiple-servers">
<h2>Multiple Servers<a class="headerlink" href="#multiple-servers" title="Link to this heading"></a></h2>
<p>While there can be only one compute server associated to each assignment, you can create multiple assignments with different compute servers. In particular, you can make a handout just for the sake of managing a new compute server.</p>
<p>Conversely, you can associate the same compute server with multiple assignments - only one clone will be created for each student in this case.</p>
</section>
<section id="setting-limits">
<h2>Setting Limits<a class="headerlink" href="#setting-limits" title="Link to this heading"></a></h2>
<p>Students cannot alter configuration of compute servers (unless you transfer ownership as explained below), but they can turn them on and <em>leave them on</em>. A compute server with a GPU that is running 24/7 can easily cost a few hundreds or thousands dollars over the term. While you should instruct your students on best practices and ask them to be responsible, accidents still may happen. To mitigate them, CoCalc provides a very flexible way to automatically shutdown compute servers if desired:</p>
<ul class="simple">
<li><p>when the server is running for too long</p></li>
<li><p>past certain our of the day</p></li>
<li><p>if the allocated budget is used up</p></li>
<li><p>when some custom condition detected by your script happens</p></li>
</ul>
<p>To adjust the spend limit, click on <strong>Spend Limit</strong> when some of the students servers are selected or when hovering over the current spend of a particular student. Then check <strong>Enabled</strong> and click <strong>Save</strong>:</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="_images/teaching_cs_spend_limit.png"><img alt="Spending Limit for Compute Servers" src="_images/teaching_cs_spend_limit.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Spending Limit for Compute Servers</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Other limits have to be configured for your own compute server before you create student ones.</p>
</section>
<section id="transferring-ownership">
<span id="transfer-server-to-student"></span><h2>Transferring Ownership<a class="headerlink" href="#transferring-ownership" title="Link to this heading"></a></h2>
<p>You may transfer ownership of compute servers that you have created for your students to them. If you do it, you will lose any control of these servers as well as the responsibility to pay for them. Some reasons to do it:</p>
<ul class="simple">
<li><p>you want students to pay for compute time themselves</p></li>
<li><p>you want to pay for your students in general, but some are not responsible enough and ran out of the budget that you have provided</p></li>
<li><p>you want students to continue experimenting on their own after the end of the course</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to transfer ownership of a compute server, it has to be deprovisioned, i.e. it has to be stopped with its disk deleted. The reason is simple - you are not allowed to force another account to pay for any consumed resources.</p>
</div>
<p>The transfer button is available in the list of compute servers for all that are deprovisioned:</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="_images/teaching_cs_transfer.png"><img alt="Transfer Compute Servers" src="_images/teaching_cs_transfer.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-text">Transfer Compute Servers</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="wrapping-up">
<h2>Wrapping Up<a class="headerlink" href="#wrapping-up" title="Link to this heading"></a></h2>
<p>In most cases students keep their course material on CoCalc past the course end. This is subtle with compute servers:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When the course ends, students still can start compute servers and cost you money, unless you prevent it.</p>
</div>
<p>Possible actions are:</p>
<ul class="simple">
<li><p>deprovision the servers and transfer ownership to students</p></li>
<li><p>delete servers completely</p></li>
<li><p>delete student projects together with compute servers</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="teaching-interactions.html" class="btn btn-neutral float-left" title="Collaboration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="teaching-after-course.html" class="btn btn-neutral float-right" title="After the Course Ends" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Sagemath, Inc., CC BY-4.0 licensed.</p>
  </div>

  

<div role="contentinfo">
  <p>
    Please contact us for <a href="https://cocalc.com/support/new?type=question&subject=A%20question%20about%20CoCalc%20...&body=&title=Ask%20us%20a%20Question!">Questions and Feedback</a>,
    <a href="https://github.com/sagemathinc/cocalc-doc/">Documentation Repository</a>,
    <a href="https://cocalc.com/policies/">Privacy Policy and ToS</a>.
   </p>
   <p>
    <a href="https://github.com/sagemathinc/cocalc-doc/edit/master/source/teaching-compute-servers.rst" class="fa fa-github"> Edit this page on GitHub</a>
  </p>
  <p>
    <strong><a href="https://cocalc.com/app">Start CoCalc</a></strong> – start free, upgrade later!
  </p>
</div>


</footer>
        </div>

      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <a class="github cocalcbanner" href="https://cocalc.com/app?anonymous=true">
     <img alt="Start CoCalc"
          class="github"
          src="_static/start-cocalc.png"
          style="position: fixed; top: 0; right: 0; border: 0; height: 75px; width: 75px">
  </a>


</body>
</html>